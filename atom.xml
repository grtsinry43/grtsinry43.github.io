<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Grtsinry43’s Blog</title>
  
  <subtitle>折腾，开发，生活————简单写写的博客</subtitle>
  <link href="https://blog.grtsinry43.com/atom.xml" rel="self"/>
  
  <link href="https://blog.grtsinry43.com/"/>
  <updated>2024-09-18T15:46:06.398Z</updated>
  <id>https://blog.grtsinry43.com/</id>
  
  <author>
    <name>Grtsinry43</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>折腾记录｜使用 Nuxt.js 重写个人主页，使用 SSR 优化 SEO ，实现一些期待已久的效果</title>
    <link href="https://blog.grtsinry43.com/2024/09/18/home-website-refactoring-nuxtjs/"/>
    <id>https://blog.grtsinry43.com/2024/09/18/home-website-refactoring-nuxtjs/</id>
    <published>2024-09-18T10:09:49.000Z</published>
    <updated>2024-09-18T15:46:06.398Z</updated>
    
    <content type="html"><![CDATA[<p>在 22 年刚创建个人主页的时候，由于我的技术水平不够，只能用一些 wordpress typecho 这种直观的工具，后来因为换域名等等一系列的问题就被搁置了…再后来为了过备案，用图形化工具和 bootstrap 糊了一个，而如今熟练掌握 Vue 和 React 等框架之后，也到了完全重写的时候了，于是就有了这段记录。</p><span id="more"></span><p>关键词：Vue SSR，Nuxt.js</p><blockquote><p>网页的开发一直在持续哇…本文章会持续跟进更新</p></blockquote><p>最后链接：<a href="https://www.grtsinry43.com/">https://www.grtsinry43.com/</a></p><h2 id="框架选择"><a href="#框架选择" class="headerlink" title="框架选择"></a>框架选择</h2><p>首先，对于这种主页类的网站，单纯的 Vue React SPA（单页面应用）肯定是不行的，比如说这里我们使用 pure-admin 模板创建的一个后台系统（Vue3），对于搜索引擎来说不会等待页面完全加载和渲染，而抓到的这些内容无法分析网站的关键词和主题等，导致很难被搜索引擎排名考前，因此我们不得不从历史中汲取经验，从服务端生成静态网页，到了客户端渲染的单页面应用，又回到了服务端渲染</p><p><img src="https://dogeoss.grtsinry43.com/2024/08/screenshot_20240830_183309.png" class="lazyload" data-srcset="https://dogeoss.grtsinry43.com/2024/08/screenshot_20240830_183309.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="这样是很难做好 SEO 的"></p><p>对于个人主页这种比较小的项目，我更喜欢使用 Vue 来完成开发，也就是其对应的 SSR 框架——Nuxt.js</p><h2 id="快速上手"><a href="#快速上手" class="headerlink" title="快速上手"></a>快速上手</h2><p>由于要使用 <code>NuxtUI</code>，我们便可以使用官方的创建工程的脚手架</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx nuxi@latest init -t ui [项目名称]</span><br></pre></td></tr></table></figure><p>创建好项目之后，我们便可以像正常写 Vue 一样来进行开发啦</p><h3 id="前置准备工作"><a href="#前置准备工作" class="headerlink" title="前置准备工作"></a>前置准备工作</h3><p>在代码块以及项目名称中，我们选用一个等宽而且适用于代码的字体 <code>JetBrains Mono</code>，于是我们可以在 <code>assets/fonts.css</code> 中这样进行引入</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">&#x27;JetBrains Mono&#x27;</span>;</span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">&#x27;https://cdn.jsdelivr.net/gh/JetBrains/JetBrainsMono/web/woff2/JetBrainsMono-Medium.woff2&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;woff2&#x27;</span>);</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">500</span>;</span><br><span class="line">    <span class="attribute">font-style</span>: normal;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.font-jb-mono</span> &#123;</span><br><span class="line">    <span class="comment">/* 设置fallback防止出现宋体 */</span></span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">&#x27;JetBrains Mono&#x27;</span>, <span class="string">&#x27;Courier New&#x27;</span>, Courier, <span class="string">&#x27;Lucida Sans Typewriter&#x27;</span>, <span class="string">&#x27;Lucida Console&#x27;</span>, <span class="string">&#x27;Microsoft YaHei&#x27;</span>, <span class="string">&#x27;WenQuanYi Micro Hei&#x27;</span>, monospace;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意这里要设置好 fallback 字体，因为某些 Windows 系统（雾）默认会回落到宋体，导致中文字体不堪入目</p><p>以后当我们需要使用的时候只需要挂上这个类名就好</p><h3 id="防止掉头发"><a href="#防止掉头发" class="headerlink" title="防止掉头发"></a>防止掉头发</h3><p>经典防止掉头发几件套：<code>assets/global.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">    <span class="attribute">color</span>: inherit;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">ul</span> &#123;</span><br><span class="line">    <span class="attribute">list-style</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="疑难解决方案与创新点"><a href="#疑难解决方案与创新点" class="headerlink" title="疑难解决方案与创新点"></a>疑难解决方案与创新点</h2><h3 id="桌面与移动端导航栏适配"><a href="#桌面与移动端导航栏适配" class="headerlink" title="桌面与移动端导航栏适配"></a>桌面与移动端导航栏适配</h3><p>为了达到最完美的使用效果，我直接写了 <code>NavBar</code> 和 <code>NavBarMobile</code> 两个组件，通过简单的媒体查询来进行切换</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> (<span class="attribute">max-width</span>: <span class="number">800px</span>) &#123;</span><br><span class="line">  <span class="selector-class">.nav-bar-desktop</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.nav-bar-mobile</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>对于移动段的 Navbar，我选择了可收起菜单来优化体验</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">const toggleMenu = () =&gt; &#123;</span><br><span class="line">  isMenuOpen.value = !isMenuOpen.value</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const toggleLocale = () =&gt; &#123;</span><br><span class="line">  locale.value = locale.value === &#x27;en&#x27; ? &#x27;zh&#x27; : &#x27;en&#x27;;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div</span><br><span class="line">      class=&quot;nav-container fixed w-full bg-opacity-80 bg-blue-50 text-blue-950 dark:bg-opacity-80 dark:bg-black dark:text-white&quot;&gt;</span><br><span class="line">    &lt;UContainer class=&quot;flex flex-row items-center justify-between nav-inner&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;nav-logo&quot;&gt;</span><br><span class="line">        &lt;NuxtLink :to=&quot;localePath(&#x27;/&#x27;)&quot; class=&quot;font-bold&quot;&gt;&#123;&#123; $t(&#x27;homePageTitle&#x27;) &#125;&#125;&lt;/NuxtLink&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;!-- Toggle Button for Mobile Menu --&gt;</span><br><span class="line">      &lt;UButton class=&quot;lg:hidden bg-opacity-0 dark:bg-opacity-0&quot; @click=&quot;toggleMenu&quot;</span><br><span class="line">               icon=&quot;i-heroicons:bars-3-bottom-right&quot;</span><br><span class="line">               square</span><br><span class="line">               color=&quot;gray&quot;</span><br><span class="line">      &gt;</span><br><span class="line">      &lt;/UButton&gt;</span><br><span class="line">      &lt;!-- Theme Toggle Button --&gt;</span><br><span class="line">      &lt;div class=&quot;theme-option lg:block&quot;&gt;</span><br><span class="line">        &lt;UToggle</span><br><span class="line">            on-icon=&quot;i-heroicons-moon-20-solid&quot;</span><br><span class="line">            off-icon=&quot;i-heroicons-sun-20-solid&quot;</span><br><span class="line">            :model-value=&quot;colorMode.preference === &#x27;dark&#x27;&quot;</span><br><span class="line">            @change=&quot;toggleTheme&quot;</span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;!-- Icons Container --&gt;</span><br><span class="line">      &lt;div class=&quot;actions-container hidden lg:grid&quot;&gt;</span><br><span class="line">        &lt;Icon class=&quot;language-toggle-icon hover:text-blue-400 dark:hover:text-blue-600&quot; name=&quot;i-heroicons-language&quot; @click=&quot;toggleLocale&quot;/&gt;</span><br><span class="line">        &lt;Icon class=&quot;rss-icon hover:text-blue-400 dark:hover:text-blue-600&quot; name=&quot;i-heroicons-rss&quot;/&gt;</span><br><span class="line">        &lt;a href=&quot;https://github.com/grtsinry43/home-web&quot; target=&quot;_blank&quot;&gt;</span><br><span class="line">          &lt;Icon class=&quot;github-icon hover:text-blue-400 dark:hover:text-blue-600&quot; name=&quot;i-grommet-icons:github&quot;/&gt;</span><br><span class="line">        &lt;/a&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/UContainer&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- Mobile Navigation Menu --&gt;</span><br><span class="line">    &lt;div v-show=&quot;isMenuOpen&quot;</span><br><span class="line">         class=&quot;nav-extend-container flex flex-col items-center bg-blue-50 bg-opacity-85 dark:bg-black dark:bg-opacity-80 backdrop-blur-lg&quot;&gt;</span><br><span class="line">      这里就是菜单项目啦</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><h3 id="深浅色模式的极不优雅解决方案"><a href="#深浅色模式的极不优雅解决方案" class="headerlink" title="深浅色模式的极不优雅解决方案"></a>深浅色模式的极不优雅解决方案</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;onMounted&#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> colorMode = <span class="title function_">useColorMode</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">toggleTheme</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (colorMode.<span class="property">preference</span> === <span class="string">&#x27;system&#x27;</span>) &#123;</span><br><span class="line">    colorMode.<span class="property">preference</span> = colorMode.<span class="property">value</span> === <span class="string">&#x27;dark&#x27;</span> ? <span class="string">&#x27;light&#x27;</span> : <span class="string">&#x27;dark&#x27;</span>;</span><br><span class="line">    buttonState.<span class="property">value</span> = colorMode.<span class="property">preference</span> === <span class="string">&#x27;dark&#x27;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    colorMode.<span class="property">preference</span> = colorMode.<span class="property">preference</span> === <span class="string">&#x27;dark&#x27;</span> ? <span class="string">&#x27;light&#x27;</span> : <span class="string">&#x27;dark&#x27;</span>;</span><br><span class="line">    buttonState.<span class="property">value</span> = colorMode.<span class="property">preference</span> === <span class="string">&#x27;dark&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> buttonState = <span class="title function_">ref</span>(<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 根据最开始的主题设置按钮的图标</span></span><br><span class="line">  buttonState.<span class="property">value</span> = colorMode.<span class="property">value</span> === <span class="string">&#x27;dark&#x27;</span>;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>这里深色模式的实现有点太不优雅了，我发现 NuxtUI 官网确实有一个跟随主题的开关，但是自己实现起来就是很奇怪，对于输出的 <code>colorMode</code> 有两个用的上的属性，一个是 <code>preference</code> 对应偏好主题（light dark system），一个是 <code>value</code> 对应当前主题（light dark），由于偏好能被保存下来，于是选择在切换按钮时改变 <code>preference</code> 的对应的值</p><p>当组件被挂载（onMounted），首先根据 value 设置初始的状态，当点击切换时，对于当前是否偏好系统要采取不同的方式来切换，不知道大佬们有没有什么好办法，或者过几天我再看看 Nuxt 源码</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;在 22 年刚创建个人主页的时候，由于我的技术水平不够，只能用一些 wordpress typecho 这种直观的工具，后来因为换域名等等一系列的问题就被搁置了…再后来为了过备案，用图形化工具和 bootstrap 糊了一个，而如今熟练掌握 Vue 和 React 等框架之后，也到了完全重写的时候了，于是就有了这段记录。&lt;/p&gt;</summary>
    
    
    
    <category term="技术学习" scheme="https://blog.grtsinry43.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="前端" scheme="https://blog.grtsinry43.com/tags/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="Vue.js" scheme="https://blog.grtsinry43.com/tags/Vue-js/"/>
    
    <category term="JavaScript" scheme="https://blog.grtsinry43.com/tags/JavaScript/"/>
    
    <category term="Nuxt.js" scheme="https://blog.grtsinry43.com/tags/Nuxt-js/"/>
    
  </entry>
  
  <entry>
    <title>学习分享｜使用 Spring Boot + MyBatisPlus 提高效率，简化开发</title>
    <link href="https://blog.grtsinry43.com/2024/08/11/springboot-mybatisplus-quickstart/"/>
    <id>https://blog.grtsinry43.com/2024/08/11/springboot-mybatisplus-quickstart/</id>
    <published>2024-08-10T16:05:33.000Z</published>
    <updated>2024-08-11T04:22:45.760Z</updated>
    
    <content type="html"><![CDATA[<p>最近一段时间，由于一些项目的需求，于是被迫用很快的速度学完了 Spring Framework，SpringMVC，Spring Boot。</p><p>然而实际上，我认为学习后端框架原理，前端的脚手架开发，搞一些基础建设是远远比每天写单调简单的业务逻辑要收获更多的，就是更多还是要有解决问题的能力和创新进步的想法吧，所以写业务逻辑当然是越省时间越好，机械操作和基础代码就越快搞定越好，这引出了我们为什么要使用 <code>MyBatis-Plus</code></p><p>首先是它的官网快速上手部分：<a href="https://baomidou.com/getting-started/">点我跳转</a></p><h2 id="基础使用（利用提供的类进行增删改查）"><a href="#基础使用（利用提供的类进行增删改查）" class="headerlink" title="基础使用（利用提供的类进行增删改查）"></a>基础使用（利用提供的类进行增删改查）</h2><p>首先在 maven 的依赖中添加 （最新版在 <a href="https://mvnrepository.com/artifact/com.baomidou/mybatis-plus">Maven Repository</a> 查找）</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-spring-boot3-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>同步依赖后配置注解扫描 mapper</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.grtsinry43.projectpackage;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.mybatis.spring.annotation.MapperScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@MapperScan(&quot;com.grtsinry43.projectpackage.mapper&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SimpleBackendApplication</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(SimpleBackendApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>下面我们先创建实体类（model）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.grtsinry43.projectpackage.model;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.IdType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableId;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableName;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Timestamp;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> grtsinry43</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2024/8/11 11:08</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> user 的实体类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@TableName(&quot;user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="meta">@TableId(type = IdType.AUTO)</span></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Boolean gender;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String phone;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="keyword">private</span> Timestamp createAt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>这里使用了 Lombok 的 <code>@Data</code> 注解来自动生成 <code>Getter</code>、<code>Setter</code> 方法、<code>toString</code> 方法、<code>hashCode</code> 方法、<code>equals</code> 方法。</p></blockquote><p>下面我们来写对应的 Mapper，在这里，MyBatis-Plus 提供了一个 BaseMapper，我们只需要继承这个接口就可以直接获得增删改查的功能</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.grtsinry43.projectpackage.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> com.grtsinry43.projectpackage.model.User;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> grtsinry43</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2024/8/11 11:13</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> 用户的 Mapper 接口</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;User&gt; &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>当然，如果需要一些自定义的 sql 语句，也可以自行配置，这里采用最简单的来举例</p><p>在 resources/mapper 新建 <code>UserMapper.xml</code></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.grtsinry43.projectpackage.mapper.UserMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectUsersOlderThan&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.grtsinry43.projectpackage.model.User&quot;</span>&gt;</span></span><br><span class="line">        SELECT * FROM user WHERE age &gt; #&#123;age&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;User&gt; &#123;</span><br><span class="line">    <span class="meta">@Select(&quot;select * from user where age &gt; #&#123;age&#125;&quot;)</span></span><br><span class="line">    List&lt;User&gt; <span class="title function_">selectUsersOlderThan</span><span class="params">(Integer age)</span>;</span><br><span class="line">&#125;代码生成器</span><br></pre></td></tr></table></figure><p>然后在 Service 中，传入 Mapper 和对应的数据模型，继承 ServiceImpl</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.grtsinry43.projectpackage.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.grtsinry43.projectpackage.mapper.UserMapper;</span><br><span class="line"><span class="keyword">import</span> com.grtsinry43.projectpackage.model.User;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserService</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;UserMapper, User&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> UserMapper userMapper;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UserService</span><span class="params">(UserMapper userMapper)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.userMapper = userMapper;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这样，我们的 Service 对象就有了 crud 方法，我们可以在 Controller 类中直接使用~</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.grtsinry43.projectpackage.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.grtsinry43.projectpackage.dto.ApiResponse;</span><br><span class="line"><span class="keyword">import</span> com.grtsinry43.projectpackage.model.User;</span><br><span class="line"><span class="keyword">import</span> com.grtsinry43.projectpackage.service.UserService;</span><br><span class="line"><span class="keyword">import</span> jakarta.validation.constraints.NotBlank;</span><br><span class="line"><span class="keyword">import</span> jakarta.validation.constraints.NotNull;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> grtsinry43</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2024/8/11 11:30</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> 少年负壮气，奋烈自有时！</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/api/user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> UserService userService;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UserController</span><span class="params">(UserService userService)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.userService = userService;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ApiResponse&lt;User&gt; <span class="title function_">getUserInfo</span><span class="params">(<span class="meta">@PathVariable</span> Integer id)</span> &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userService.getById(id);</span><br><span class="line">        <span class="keyword">return</span> ApiResponse.success(user);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@PutMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ApiResponse&lt;User&gt; <span class="title function_">updateUserInfo</span><span class="params">(<span class="meta">@PathVariable</span> Integer id, <span class="meta">@RequestBody</span> User user)</span> &#123;</span><br><span class="line">        user.setId(id);</span><br><span class="line">        userService.updateById(user);</span><br><span class="line">        <span class="keyword">return</span> ApiResponse.success(user);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@DeleteMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ApiResponse&lt;Object&gt; <span class="title function_">deleteUser</span><span class="params">(<span class="meta">@PathVariable</span> Integer id)</span> &#123;</span><br><span class="line">        userService.removeById(id);</span><br><span class="line">        <span class="keyword">return</span> ApiResponse.success(<span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="使用代码生成器（完全不用敲代码）"><a href="#使用代码生成器（完全不用敲代码）" class="headerlink" title="使用代码生成器（完全不用敲代码）"></a>使用代码生成器（完全不用敲代码）</h2><blockquote><p>当然，手动敲代码真的是太繁琐了，我真的非常讨厌在简单业务逻辑尤其是基本的 crud 上浪费时间，MyBatis-Plus 也想到了这一点，人家的完整使用方法可不是上面的那<del>么</del>复杂，借助代码生成器（Auto Generator）完全无脑搞起来吧！</p></blockquote><blockquote><p>注意！根据官方文档，新的代码生成器适用于 3.5.1 及以上版本</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.grtsinry43.mybatisplusquickstart.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.FieldFill;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.FastAutoGenerator;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.engine.FreemarkerTemplateEngine;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.fill.Column;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Code generator for MyBatis Plus.</span></span><br><span class="line"><span class="comment"> * Author: grtsinry43</span></span><br><span class="line"><span class="comment"> * Date: 2024/8/11</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CodeGenerator</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        FastAutoGenerator.create(<span class="string">&quot;url&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;username&quot;</span>, <span class="string">&quot;password&quot;</span>)</span><br><span class="line">                <span class="comment">// 全局配置</span></span><br><span class="line">                .globalConfig((scanner, builder) -&gt; builder</span><br><span class="line">                        .author(scanner.apply(<span class="string">&quot;请输入作者名称？&quot;</span>))</span><br><span class="line">                        .outputDir(<span class="string">&quot;src/main/java&quot;</span>) <span class="comment">// Specify the output directory</span></span><br><span class="line">                )</span><br><span class="line">                <span class="comment">// 包配置</span></span><br><span class="line">                .packageConfig((scanner, builder) -&gt; builder.parent(scanner.apply(<span class="string">&quot;请输入包名？&quot;</span>)))</span><br><span class="line">                <span class="comment">// 策略配置</span></span><br><span class="line">                .strategyConfig((scanner, builder) -&gt; builder.addInclude(getTables(scanner.apply(<span class="string">&quot;请输入表名，多个英文逗号分隔？所有输入 all&quot;</span>)))</span><br><span class="line">                        .entityBuilder()</span><br><span class="line">                        .enableLombok()</span><br><span class="line">                        .addTableFills(</span><br><span class="line">                                <span class="keyword">new</span> <span class="title class_">Column</span>(<span class="string">&quot;create_time&quot;</span>, FieldFill.INSERT)</span><br><span class="line">                        )</span><br><span class="line">                        .build())</span><br><span class="line">                <span class="comment">// 使用Freemarker引擎模板，默认的是Velocity引擎模板</span></span><br><span class="line">                .templateEngine(<span class="keyword">new</span> <span class="title class_">FreemarkerTemplateEngine</span>())</span><br><span class="line">                .execute();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 处理 all 情况</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title function_">getTables</span><span class="params">(String tables)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;all&quot;</span>.equals(tables) ? Collections.emptyList() : Arrays.asList(tables.split(<span class="string">&quot;,&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这样，就会按照结构生成好啦：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">❯ tree .</span><br><span class="line">.</span><br><span class="line">└── mybatisplusquickstart</span><br><span class="line">    ├── controller</span><br><span class="line">    │   └── UserController.java</span><br><span class="line">    ├── entity</span><br><span class="line">    │   └── User.java</span><br><span class="line">    ├── mapper</span><br><span class="line">    │   ├── UserMapper.java</span><br><span class="line">    │   └── xml</span><br><span class="line">    │       └── UserMapper.xml</span><br><span class="line">    ├── MybatisplusQuickstartApplication.java</span><br><span class="line">    ├── service</span><br><span class="line">    │   ├── impl</span><br><span class="line">    │   │   └── UserServiceImpl.java</span><br><span class="line">    │   └── IUserService.java</span><br><span class="line">    └── util</span><br><span class="line">        └── CodeGenerator.java</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>以上，就可以在不用敲代码的情况下实现基本的数据操作，大大提高效率，减少机械操作了</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;最近一段时间，由于一些项目的需求，于是被迫用很快的速度学完了 Spring Framework，SpringMVC，Spring Boot。&lt;/p&gt;
&lt;p&gt;然而实际上，我认为学习后端框架原理，前端的脚手架开发，搞一些基础建设是远远比每天写单调简单的业务逻辑要收获更多的，就是</summary>
      
    
    
    
    <category term="技术学习" scheme="https://blog.grtsinry43.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="后端" scheme="https://blog.grtsinry43.com/tags/%E5%90%8E%E7%AB%AF/"/>
    
    <category term="Java" scheme="https://blog.grtsinry43.com/tags/Java/"/>
    
    <category term="Spring Boot" scheme="https://blog.grtsinry43.com/tags/Spring-Boot/"/>
    
  </entry>
  
  <entry>
    <title>六月初至七月中旬｜前端学习简要总结，生活的小回顾</title>
    <link href="https://blog.grtsinry43.com/2024/07/11/202406-frontend-summary/"/>
    <id>https://blog.grtsinry43.com/2024/07/11/202406-frontend-summary/</id>
    <published>2024-07-11T15:27:23.000Z</published>
    <updated>2024-08-11T02:49:07.853Z</updated>
    
    <content type="html"><![CDATA[<p>在这段时间里我通过完成多个项目，深入学习了前端和全栈开发的技术。主要使用了 Vue3、C++ Web 框架、jwt 鉴权、Docker、Nginx、FastAPI、微信网页开发、Vue2、Vant 组件库、TypeScript 和 React 等技术。</p><p>项目驱动对我来说是一种很好的学习方式哈哈哈，不仅让我掌握了新技术，也让我遇到并克服了许多挑战，比如阅读别人的代码、复杂的后端逻辑处理和微信开发的复杂性等。  通过项目驱动的学习方式，我快速提升了自己的技术能力，并对此感到非常满意和自豪。我也意识到自己还处于学习的初阶段，对未来的学习充满了规划和期待。</p><span id="more"></span><h2 id="额-最近的事情"><a href="#额-最近的事情" class="headerlink" title="额..最近的事情"></a>额..最近的事情</h2><p>上次总结应该是 5 月 27 号，那大概两周的时间学习 Vue 剩下的内容，那个时候同时也在研究全栈开发，照葫芦画瓢弄明白了 Spring Boot（不过基础太差，这个假期还得再弄一弄），然后应该是六月初。</p><p>后来搞了一周的课设、期末的任务、一些慕课的考试什么的，六月下旬就进期末考试周了，全天都在 <del>预习</del> 啊不，复习。主要也是老师讲了一学期也未必能给我们讲明白，就是老师其实很厉害但是讲课方面可能就不会那么面面俱到，反正我就一学期的内容看英文教材一周弄完了，考试结束换完寝室是六月末。</p><p>然后痛苦的来了，就是我所在的校团委网络信息部有个学生组织的技术部门，这学期当部长的几个学长下学期都不打算继续干了，一般都选择保研了。<del>像我这种会学习不会考试绩点很低的肯定以提升技术为主</del> 然后下学期我就得当两个部门的部长，假期要搞的几个项目都到我身上了 😰，和我同级的同学们前端后端又没那么熟练，所以本质上整个两个项目全是我一个人写的 😭。ddl 是 10 号，所以我被迫留在长沙现在还没有离校，9 号弄完上线的，现在终于轻松了。</p><h2 id="最近的学习总结"><a href="#最近的学习总结" class="headerlink" title="最近的学习总结"></a>最近的学习总结</h2><p>感觉最近的前端学习全是自主探索的，全是项目驱动的 😂。</p><h3 id="先是课程设计"><a href="#先是课程设计" class="headerlink" title="先是课程设计"></a>先是课程设计</h3><p>课设是 C++的，正好我之前研究过一个 C++的 Web 框架，就给弄成前后端了。当时就是把这个当成练手项目了，因为全栈项目没搞过几个，所以就直接用上了 Vite+Vue3，至于学的话就是自己看文档，自己研究，然后也没用 Vuex 用的 pinia，同样也是自己研究的 😂。为了把这个项目搞出来又学了 jwt 让前后端能鉴权。</p><p>最后成品太丑了….搞个 Element Plus 其实主要是为了应付嘛（doge），学习技术和练手才是真，<del>绩点我又不在乎</del></p><p>后来又自己研究了 docker 环境，nginx 反代后端到 <code>/api</code>，总之就是让我学到相当相当多，算是一个对我挺有意义的项目了</p><p><img src="https://dogeoss.grtsinry43.com/2024/07/image-20240711222156417.png" class="lazyload" data-srcset="https://dogeoss.grtsinry43.com/2024/07/image-20240711222156417.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20240711222156417"></p><h3 id="之后是接的学校的项目"><a href="#之后是接的学校的项目" class="headerlink" title="之后是接的学校的项目"></a>之后是接的学校的项目</h3><p>额这个对我来说主要的难度一个是微信网页开发实在太恶心，要搞什么认证又登录，还有就是学长传承下来了代码，但是这个代码的质量 emm…<del>就是说屎山代码应该不过分</del>。因为项目后端用的 FastAPI，这样我又不得不去学习这个，两天之内看文档学完了，但是真正上手看学长代码我才知道问题严重性。</p><img src="https://dogeoss.grtsinry43.com/2024/07/154709B18B51FEF491EC9F8469FC1364.png" class="lazyload" data-srcset="https://dogeoss.grtsinry43.com/2024/07/154709B18B51FEF491EC9F8469FC1364.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="154709B18B51FEF491EC9F8469FC1364" style="zoom:25%;" /><p>第一个项目是一个什么社团注册，这个前端之前代码用 Vue2 写的，不过还好代码完全没有压力，这个 Vant 组件库我又跑去看文档了，不过后端代码有点太抽象了，又用刚学的知识改了半天后端。然后还有…还有团委老师经常让我加功能 😰 啊这个太痛苦了，因为学长代码用的数据结构有点过于离谱，好多都是曲线救国，真的极其痛苦。</p><div style="display:flex;"><img src="https://dogeoss.grtsinry43.com/2024/07/FD42D5950E45510DF7AA62EB5EEA4C04.png" class="lazyload" data-srcset="https://dogeoss.grtsinry43.com/2024/07/FD42D5950E45510DF7AA62EB5EEA4C04.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="FD42D5950E45510DF7AA62EB5EEA4C04" style="width:30%;" /><img src="https://dogeoss.grtsinry43.com/2024/07/4A88CD8706AB2D582D9EDDD96243D836.png" class="lazyload" data-srcset="https://dogeoss.grtsinry43.com/2024/07/4A88CD8706AB2D582D9EDDD96243D836.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="4A88CD8706AB2D582D9EDDD96243D836" style="width:30%;" /><img src="https://dogeoss.grtsinry43.com/2024/07/B28977AB2B6D607D38D53945572D36B4.png" class="lazyload" data-srcset="https://dogeoss.grtsinry43.com/2024/07/B28977AB2B6D607D38D53945572D36B4.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="B28977AB2B6D607D38D53945572D36B4" style="width:30%;" /></div><p>第二个就是一个简单的签到打卡，这个是被微信恶心的网页开发卡了好久，就是有个 <code>wx.config()</code> 需要后端调用 api 缓存 token 和签名啥的一大堆弄的天天做梦都在改 Bug😰，连着 3 天才弄出来。其他的就简单了感觉就是体力活了哈哈哈，实际写业务逻辑挺快的，不过好多后端给的响应数据结构太奇怪了，连写这个还得连改后端。然后为了管理又搞了个后台系统：</p><p><img src="https://dogeoss.grtsinry43.com/2024/07/image-20240711225210198.png" class="lazyload" data-srcset="https://dogeoss.grtsinry43.com/2024/07/image-20240711225210198.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20240711225210198"></p><p><img src="https://dogeoss.grtsinry43.com/2024/07/image-20240711225506531.png" class="lazyload" data-srcset="https://dogeoss.grtsinry43.com/2024/07/image-20240711225506531.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20240711225506531"></p><p>这个就是用 <code>pure-admin</code> 二次开发的，因为之前用过 <code>element-admin</code> 那个感觉这个还挺简单的，然后因为这个系统用的 TypeScript，大体上和 js 差不多吧，不过还是被迫，不对是自愿哈哈哈哈，毕竟能学到好多东西，看了文档搞明白了。</p><h3 id="研究学长的项目"><a href="#研究学长的项目" class="headerlink" title="研究学长的项目"></a>研究学长的项目</h3><p><img src="https://dogeoss.grtsinry43.com/2024/07/image-20240711230010314.png" class="lazyload" data-srcset="https://dogeoss.grtsinry43.com/2024/07/image-20240711230010314.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20240711230010314"></p><p>这个是一个学长写的项目，不是我写的，不过我太感兴趣了 😂，所以自己看文档一天之内过了一遍 React，然后给学长提了 pr，现在还挺好看的</p><h2 id="简要总结"><a href="#简要总结" class="headerlink" title="简要总结"></a>简要总结</h2><p>这段时间真的都是因为一堆项目学到了好多东西，还挺爽的哈哈，至少因为项目需要自学了 Vue3，啊对还有 node 学着写了中间层，还有学了 React 和学长一起弄项目搞项目去了。</p><p>接下来计划再学习 node 中间层和后端，然后继续慢慢向下学习。而且就是我一年之内从刚开始写简单的 Hello World，到熟悉静态网页，再到今天一个人搞全栈项目，真的有非常大的进步，也真的克服了好多好多困难才能做到。不过我也知道我这才是刚入门而已，前面要学的太多太多了</p><p>然后假期回家也是绝大部分时间写代码，继续加油叭！</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;在这段时间里我通过完成多个项目，深入学习了前端和全栈开发的技术。主要使用了 Vue3、C++ Web 框架、jwt 鉴权、Docker、Nginx、FastAPI、微信网页开发、Vue2、Vant 组件库、TypeScript 和 React 等技术。&lt;/p&gt;
&lt;p&gt;项目驱动对我来说是一种很好的学习方式哈哈哈，不仅让我掌握了新技术，也让我遇到并克服了许多挑战，比如阅读别人的代码、复杂的后端逻辑处理和微信开发的复杂性等。  通过项目驱动的学习方式，我快速提升了自己的技术能力，并对此感到非常满意和自豪。我也意识到自己还处于学习的初阶段，对未来的学习充满了规划和期待。&lt;/p&gt;</summary>
    
    
    
    <category term="生活记录" scheme="https://blog.grtsinry43.com/categories/%E7%94%9F%E6%B4%BB%E8%AE%B0%E5%BD%95/"/>
    
    
    <category term="总结" scheme="https://blog.grtsinry43.com/tags/%E6%80%BB%E7%BB%93/"/>
    
    <category term="生活" scheme="https://blog.grtsinry43.com/tags/%E7%94%9F%E6%B4%BB/"/>
    
    <category term="日常" scheme="https://blog.grtsinry43.com/tags/%E6%97%A5%E5%B8%B8/"/>
    
    <category term="前端" scheme="https://blog.grtsinry43.com/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>学习分享｜Vue3项目中使用微信SDK开发微信网页</title>
    <link href="https://blog.grtsinry43.com/2024/07/03/wx-js-sdk-usage-vue3/"/>
    <id>https://blog.grtsinry43.com/2024/07/03/wx-js-sdk-usage-vue3/</id>
    <published>2024-07-03T02:54:25.000Z</published>
    <updated>2024-08-11T04:22:33.297Z</updated>
    
    <content type="html"><![CDATA[<p>最近在开发一个微信 H5 的项目，采用的是 Vue3+FastAPI，正好学习下微信用户登录，api 配置和调用，以及前后端关于这部分的解决方案</p><span id="more"></span><p>对微信网页开发的探索起源于最近的一个项目，需要一方面调用微信登录获取用户信息和将 token 作为区分用户的方式，另一方面要调用微信网页的 API 实现定位的操作</p><p>于是我查询微信官方开发文档，还有一些相关资料，按照自己理解研究了相关的解决方案</p><p>比较蛋疼的是，由于微信开发调用 API 时都会校验当前域名，因此被迫开发时进行线上测试（！！），目前个人没有解决方案，如果有了解的大佬恳请在评论处告知，不胜感激！！</p><h2 id="安装及引入"><a href="#安装及引入" class="headerlink" title="安装及引入"></a>安装及引入</h2><p>首先微信的 <code>js-sdk</code> 是可以通过 <code>npm</code> 获取的：<a href="https://www.npmjs.com/package/weixin-js-sdk">weixin-js-sdk</a></p><p>在项目中直接通过以下命令安装：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install weixin-js-sdk</span><br></pre></td></tr></table></figure><p>之后就可以在项目中直接引用</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> wx <span class="keyword">from</span> <span class="string">&#x27;weixin-js-sdk&#x27;</span>;</span><br></pre></td></tr></table></figure><p><img src="https://dogeoss.grtsinry43.com/2024/07/image-20240703110733723.png" class="lazyload" data-srcset="https://dogeoss.grtsinry43.com/2024/07/image-20240703110733723.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20240703141306717"></p><p>此时你可以发现已经能正常调用并且补全了（好耶）</p><h2 id="项目背景"><a href="#项目背景" class="headerlink" title="项目背景"></a>项目背景</h2><p>首先前端我使用的 <code>Vite</code>+<code>Vue3</code>，后端是 <code>FastAPI</code>，为了在页面打开时就载入相关配置，我们需要在 <code>main.js</code> 执行相关逻辑</p><p>首先规定相关的接口逻辑</p><table><thead><tr><th>url</th><th>定义</th></tr></thead><tbody><tr><td>/api/wxconfig/get?url =</td><td>获取相关配置</td></tr><tr><td>/api/wxconfig/flush?url =</td><td>强制刷新配置</td></tr></tbody></table><h2 id="前端配置"><a href="#前端配置" class="headerlink" title="前端配置"></a>前端配置</h2><p>这部分比较简单，无脑写就行，当测试完成之后，可以添加逻辑，让 <code>wx.error</code> 时候调用强制刷新的 API，这个具体自己设计就好</p><p>新建 <code>util/wx-api-config.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> wx <span class="keyword">from</span> <span class="string">&#x27;weixin-js-sdk&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;getWxConfig&#125; <span class="keyword">from</span> <span class="string">&quot;@/api/wxConfig.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;微信 JS-SDK 配置开始...&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 微信 API 全局配置</span></span><br><span class="line"><span class="title function_">getWxConfig</span>(location.<span class="property">href</span>.<span class="title function_">split</span>(<span class="string">&#x27;#&#x27;</span>)[<span class="number">0</span>]).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">    <span class="keyword">const</span> &#123;appId, timestamp, nonceStr, signature&#125; = res;</span><br><span class="line">    wx.<span class="title function_">config</span>(&#123;</span><br><span class="line">        <span class="attr">debug</span>: process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">&#x27;development&#x27;</span>,</span><br><span class="line">        appId,</span><br><span class="line">        timestamp,</span><br><span class="line">        nonceStr,</span><br><span class="line">        signature,</span><br><span class="line">        <span class="attr">jsApiList</span>: []</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">wx.<span class="title function_">ready</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">// config 信息验证后会执行 ready 方法，所有接口调用都必须在 config 接口获得结果之后，</span></span><br><span class="line">    <span class="comment">// config 是一个客户端的异步操作，所以如果需要在页面加载时就调用相关接口，</span></span><br><span class="line">    <span class="comment">// 则须把相关接口放在 ready 函数中调用来确保正确执行。</span></span><br><span class="line">    <span class="comment">// 对于用户触发时才调用的接口，则可以直接调用，不需要放在 ready 函数中。</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;微信 JS-SDK 配置成功！&quot;</span>)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">wx.<span class="title function_">error</span>(<span class="keyword">function</span>(<span class="params">err</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;微信 JS-SDK 配置失败：&quot;</span>, err);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>以及 <code>axios</code> 的配置，注意我这里使用了响应拦截器进行了统一处理，返回时已经直接是 <code>data</code> 的内容</p><p><code>api/wxConfig.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> ins <span class="keyword">from</span> <span class="string">&quot;@/api/request.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">getWxConfig</span>(<span class="params">url</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> ins.<span class="title function_">get</span>(<span class="string">&quot;/wxconfig/get&quot;</span>,&#123;</span><br><span class="line">        <span class="attr">params</span>: &#123;</span><br><span class="line">            url</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>最后只需要在 <code>main.js</code> 中调用即可：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 配置微信 API</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;@/util/wx-api-config.js&quot;</span>;</span><br></pre></td></tr></table></figure><h2 id="后端配置"><a href="#后端配置" class="headerlink" title="后端配置"></a>后端配置</h2><p>重头戏肯定在这里哇，首先呢，我们先了解一下 <code>config</code> 都有哪些部分：</p><p>让我们把目光再转向刚才的配置</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">wx.<span class="title function_">config</span>(&#123;</span><br><span class="line">        <span class="attr">debug</span>: <span class="literal">true</span>,</span><br><span class="line">        appId,</span><br><span class="line">        timestamp,</span><br><span class="line">        nonceStr,</span><br><span class="line">        signature,</span><br><span class="line">        <span class="attr">jsApiList</span>: []</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><p>其中有：是否开发模式，公众号唯一 id，生成签名的时间戳，生成签名的随机字符串，签名，要调用的 api 列表</p><p>准备好你的信息~，就像这样：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wx_app_cfg = &#123;</span><br><span class="line">    <span class="string">&#x27;appid&#x27;</span>: <span class="string">&#x27;xxxxxxxxxxxxxxxxxx&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;secret&#x27;</span>: <span class="string">&#x27;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#x27;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>对于这些内容，我们继续了解微信这个签名逻辑</p><p>首先，要带上 <code>appid</code> 和 <code>appscrect</code> 请求微信接口拿到 <code>access_token</code>，有效时长 <code>7200</code> 秒</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_access_token</span>(<span class="params">appid: <span class="built_in">str</span>, appsecret: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;调用微信API获取access_token&quot;&quot;&quot;</span></span><br><span class="line">    url = <span class="string">f&quot;https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&amp;appid=<span class="subst">&#123;appid&#125;</span>&amp;secret=<span class="subst">&#123;appsecret&#125;</span>&quot;</span></span><br><span class="line">    response = requests.get(url)</span><br><span class="line">    data = response.json()</span><br><span class="line">    <span class="keyword">return</span> data.get(<span class="string">&quot;access_token&quot;</span>)</span><br></pre></td></tr></table></figure><p>之后获取 <code>jsapi_ticket</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_jsapi_ticket</span>(<span class="params">access_token: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;调用微信API使用access_token获取jsapi_ticket&quot;&quot;&quot;</span></span><br><span class="line">    url = <span class="string">f&quot;https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token=<span class="subst">&#123;access_token&#125;</span>&amp;type=jsapi&quot;</span></span><br><span class="line">    response = requests.get(url)</span><br><span class="line">    data = response.json()</span><br><span class="line">    <span class="keyword">return</span> data.get(<span class="string">&quot;ticket&quot;</span>)</span><br></pre></td></tr></table></figure><p>有了这两个东西，就可以开始签名啦~</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">generate_nonce_str</span>(<span class="params">length: <span class="built_in">int</span> = <span class="number">16</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;生成随机字符串，用于签名&quot;&quot;&quot;</span></span><br><span class="line">    characters = <span class="string">&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&quot;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join(random.choice(characters) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(length))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">generate_signature</span>(<span class="params">ticket: <span class="built_in">str</span>, noncestr: <span class="built_in">str</span>, timestamp: <span class="built_in">int</span>, url: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;使用sha1生成签名&quot;&quot;&quot;</span></span><br><span class="line">    string1 = <span class="string">f&quot;jsapi_ticket=<span class="subst">&#123;ticket&#125;</span>&amp;noncestr=<span class="subst">&#123;noncestr&#125;</span>&amp;timestamp=<span class="subst">&#123;timestamp&#125;</span>&amp;url=<span class="subst">&#123;url&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">return</span> hashlib.sha1(string1.encode(<span class="string">&#x27;utf-8&#x27;</span>)).hexdigest()</span><br></pre></td></tr></table></figure><p>这样我们就得到了签名，但是这还没有结束，根据微信文档的介绍：</p><blockquote><p>access_token 是公众号的全局唯一接口调用凭据，公众号调用各接口时都需使用 access_token。开发者需要进行妥善保存。access_token 的存储至少要保留 512 个字符空间。access_token 的有效期目前为 2 个小时，需定时刷新，重复获取将导致上次获取的 access_token 失效。</p><p>公众平台的 API 调用所需的 access_token 的使用及生成方式说明：</p><p>1、建议公众号开发者使用中控服务器统一获取和刷新 access_token，其他业务逻辑服务器所使用的 access_token 均来自于该中控服务器，不应该各自去刷新，否则容易造成冲突，导致 access_token 覆盖而影响业务；</p><p>2、目前 access_token 的有效期通过返回的 expires_in 来传达，目前是 7200 秒之内的值。中控服务器需要根据这个有效时间提前去刷新新 access_token。在刷新过程中，中控服务器可对外继续输出的老 access_token，此时公众平台后台会保证在 5 分钟内，新老 access_token 都可用，这保证了第三方业务的平滑过渡；</p><p>3、access_token 的有效时间可能会在未来有调整，所以中控服务器不仅需要内部定时主动刷新，还需要提供被动刷新 access_token 的接口，这样便于业务服务器在 API 调用获知 access_token 已超时的情况下，可以触发 access_token 的刷新流程。</p></blockquote><p>因此我们需要提供缓存的能力，这里使用 <code>mongoengine</code> 处理相关逻辑</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">save_and_expire_handle</span>(<span class="params">force=<span class="literal">False</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    每次调用的时候，首先检查mongo中是否有缓存（mongoengine），如果有，检查是否过期，如果过期，重新获取并且存储，如果没有，直接获取</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    current_time = <span class="built_in">int</span>(time.time())</span><br><span class="line">    config = WXConfig.objects().first()  <span class="comment"># 因为只会有一条记录，所以直接获取第一条应该就可以了</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> config <span class="keyword">and</span> config.expires_at &gt; current_time <span class="keyword">and</span> <span class="keyword">not</span> force:</span><br><span class="line">        <span class="comment"># 如果配置存在且未过期，直接返回</span></span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="string">&quot;access_token&quot;</span>: config.access_token,</span><br><span class="line">            <span class="string">&quot;jsapi_ticket&quot;</span>: config.jsapi_ticket</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># 如果配置不存在或已过期，重新获取并存储</span></span><br><span class="line">        appid = wx_app_cfg[<span class="string">&#x27;appid&#x27;</span>]</span><br><span class="line">        appsecret = wx_app_cfg[<span class="string">&#x27;secret&#x27;</span>]</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;==重新调用微信API获取access_token和jsapi_ticket==&quot;</span>)</span><br><span class="line">        access_token = get_access_token(appid, appsecret)</span><br><span class="line">        jsapi_ticket = get_jsapi_ticket(access_token)</span><br><span class="line">        expires_at = current_time + <span class="number">7000</span>  <span class="comment"># 这里过期时间应该是 7200 秒，但是为了保险起见，提前 200 秒过期并重新获取</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> config:</span><br><span class="line">            <span class="comment"># 更新现有记录</span></span><br><span class="line">            config.update(access_token=access_token, jsapi_ticket=jsapi_ticket, expires_at=expires_at)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># 创建新记录</span></span><br><span class="line">            WXConfig(access_token=access_token, jsapi_ticket=jsapi_ticket, expires_at=expires_at).save()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="string">&quot;access_token&quot;</span>: access_token,</span><br><span class="line">            <span class="string">&quot;jsapi_ticket&quot;</span>: jsapi_ticket</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p>这样，我们就可以实现缓存 <code>access_token</code> 和 <code>jsapi_ticket</code>，并且在每次都检查是否过期减少请求次数了。</p><p>诶？为什么要留一个 <code>force</code> 参数呢？</p><p>在实际开发中，如果存在多端测试，可能在未过期时候就会刷新 <code>access_token</code> 和 <code>jsapi_ticket</code>，这样之前的存储就会过期，因此需要提供一个强制刷新的接口</p><p>按照前端需要的内容封装好函数，就有：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_wx_config</span>(<span class="params">appid: <span class="built_in">str</span>, appsecret: <span class="built_in">str</span>, url: <span class="built_in">str</span>, force=<span class="literal">False</span></span>) -&gt; <span class="type">Dict</span>[<span class="built_in">str</span>, <span class="built_in">str</span>]:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;获取微信JS-SDK配置&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 首先从数据库或者新获取 access_token 和 jsapi_ticket</span></span><br><span class="line">    <span class="comment"># 这里就一个需要 force 即可，因为 access_token 和 jsapi_ticket 是一起获取的</span></span><br><span class="line">    access_token = save_and_expire_handle(force)[<span class="string">&#x27;access_token&#x27;</span>]</span><br><span class="line">    jsapi_ticket = save_and_expire_handle()[<span class="string">&#x27;jsapi_ticket&#x27;</span>]</span><br><span class="line">    <span class="comment"># 生成签名所需的参数</span></span><br><span class="line">    noncestr = generate_nonce_str()</span><br><span class="line">    timestamp = <span class="built_in">int</span>(time.time())</span><br><span class="line">    <span class="comment"># 生成签名</span></span><br><span class="line">    signature = generate_signature(jsapi_ticket, noncestr, timestamp, url)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">&quot;appId&quot;</span>: appid,</span><br><span class="line">        <span class="string">&quot;timestamp&quot;</span>: timestamp,</span><br><span class="line">        <span class="string">&quot;nonceStr&quot;</span>: noncestr,</span><br><span class="line">        <span class="string">&quot;signature&quot;</span>: signature</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>最后注册路由接口，<code>FastAPI</code>，启动！！</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@wxconfig_route.get(<span class="params"><span class="string">&#x27;/get&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">return_wx_config</span>(<span class="params">url: <span class="built_in">str</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    获取微信JS-SDK配置</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 生成微信 JS-SDK 配置</span></span><br><span class="line">    wx_config = get_wx_config(wx_app_cfg[<span class="string">&#x27;appid&#x27;</span>], wx_app_cfg[<span class="string">&#x27;secret&#x27;</span>], url)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> trueReturn(wx_config)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@wxconfig_route.get(<span class="params"><span class="string">&#x27;/flush&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">flush_wx_config</span>(<span class="params">url</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    这里保留了一个接口用于特殊情况，强制刷新微信JS-SDK配置</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 生成微信 JS-SDK 配置</span></span><br><span class="line">    wx_config = get_wx_config(wx_app_cfg[<span class="string">&#x27;appid&#x27;</span>], wx_app_cfg[<span class="string">&#x27;secret&#x27;</span>], url, force=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> trueReturn(wx_config)</span><br></pre></td></tr></table></figure><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>按照之前我说的，测试过程比较蛋疼，必须是正式域名的线上环境，可以用微信开发者工具测试一下，测试时候可以将 <code>debug</code> 写死成 <code>true</code> 便于发现问题</p><hr><p>这里留个坑（？！又来），之后详细讲一下测试过程</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;最近在开发一个微信 H5 的项目，采用的是 Vue3+FastAPI，正好学习下微信用户登录，api 配置和调用，以及前后端关于这部分的解决方案&lt;/p&gt;</summary>
    
    
    
    <category term="技术学习" scheme="https://blog.grtsinry43.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="Vue.js" scheme="https://blog.grtsinry43.com/tags/Vue-js/"/>
    
    <category term="JavaScript" scheme="https://blog.grtsinry43.com/tags/JavaScript/"/>
    
    <category term="微信" scheme="https://blog.grtsinry43.com/tags/%E5%BE%AE%E4%BF%A1/"/>
    
  </entry>
  
  <entry>
    <title>学习分享｜Kubernetes快速上手，快速了解及开始使用</title>
    <link href="https://blog.grtsinry43.com/2024/06/27/kubernetes-quick-start/"/>
    <id>https://blog.grtsinry43.com/2024/06/27/kubernetes-quick-start/</id>
    <published>2024-06-27T11:09:46.000Z</published>
    <updated>2024-06-27T14:08:15.096Z</updated>
    
    <content type="html"><![CDATA[<p>最近感觉 K8s 挺火的，也许是时下比较热门的技术栈了，学习过程比较曲折复杂，分享一下自己的学习过程，从快速入门，到一些深入的使用</p><span id="more"></span><h2 id="简要介绍"><a href="#简要介绍" class="headerlink" title="简要介绍"></a>简要介绍</h2><h3 id="Kubernetes-简介"><a href="#Kubernetes-简介" class="headerlink" title="Kubernetes 简介"></a>Kubernetes 简介</h3><p>Kubernetes，通常简称为 “k8s”，是一个开源平台，用于自动化部署、扩展和管理容器化应用程序。它允许您在一个计算机集群中管理容器化应用程序，提供部署、维护和扩展的机制。</p><p>听说过一个说法，docker 的图标是载满集装箱的鲸鱼，而 k8s 的图标是一个带有舵轮的蓝色八边形，代表着它在容器编排领域的导航和控制作用，象征着 Kubernetes 能够帮助用户高效地管理和指导容器化应用程序的部署和运行，驾驶着驶向远方（中二 ing）。</p><p>docker 更多用于将应用程序及其依赖项打包到一个轻量级、可移植的容器中，解决的是配置环境和实现容器化，而 Kubernetes 提供了高可用性、负载均衡、自动扩展和滚动更新等功能，适用于生产环境，使管理大规模容器化应用程序变得更加高效和可靠。Kubernetes 适用于需要自动化管理、扩展和部署多个容器的复杂应用场景。</p><h3 id="与-docker-compose-的比较"><a href="#与-docker-compose-的比较" class="headerlink" title="与 docker-compose 的比较"></a>与 docker-compose 的比较</h3><ol><li><p>集群管理和多节点支持<br>Kubernetes：设计用于管理一个跨多个节点（机器）的容器集群。它可以自动分配和调度容器到集群中的不同节点上，确保高可用性和资源的最佳利用。<br>Docker Compose：主要用于单个节点上的容器编排。虽然可以通过 Swarm 模式在多个节点上运行，但其功能和扩展性不如 Kubernetes 强大。</p></li><li><p>自动化和自我修复<br>Kubernetes：提供了自动化的容器部署、扩展和自我修复能力。它可以自动重新启动失败的容器、替换被损坏的节点、自动扩展应用实例数量等。<br>Docker Compose：缺乏自动化的修复和扩展机制。需要手动管理容器的状态和扩展。</p></li><li><p>服务发现和负载均衡<br>Kubernetes：内置了强大的服务发现和负载均衡功能。服务可以通过 DNS 名称互相访问，Kubernetes 会自动在各个 Pod 之间进行负载均衡。<br>Docker Compose：服务发现和负载均衡功能较为基础，需要依赖外部工具或手动配置。</p></li><li><p>持久化存储和卷管理<br>Kubernetes：提供了丰富的持久化存储选项和卷管理功能，包括 PersistentVolume 和 PersistentVolumeClaim，支持多种存储后端（如 NFS、Ceph、AWS EBS 等）。<br>Docker Compose：支持卷的基本功能，但管理持久化存储的功能较为简单，且不具备 Kubernetes 那样的存储抽象和集成能力。</p></li><li><p>安全性和访问控制<br>Kubernetes：提供了强大的安全和访问控制机制，包括基于角色的访问控制（RBAC）、网络策略、Pod 安全策略等，可以细粒度地管理用户和应用的权限。<br>Docker Compose：安全性和访问控制较为基础，需要依赖外部工具或额外的配置来实现类似的功能。</p></li><li><p>扩展性和生态系统<br>Kubernetes：具有丰富的扩展性和庞大的生态系统，支持 Helm Charts（包管理）、Operator（运维自动化）、CRD（自定义资源）等，可以轻松集成各种第三方工具和插件。<br>Docker Compose：相对简单，功能较为有限，扩展性不如 Kubernetes 强大。</p></li><li><p>社区和支持<br>Kubernetes：由 CNCF（Cloud Native Computing Foundation）维护，拥有庞大的社区支持和活跃的开发生态。广泛应用于生产环境，得到了各大云服务商的全面支持。<br>Docker Compose：主要由 Docker 社区维护，虽然也有不少用户，但在生产环境中的应用和支持程度不如 Kubernetes。</p></li></ol><h2 id="安装与快速上手"><a href="#安装与快速上手" class="headerlink" title="安装与快速上手"></a>安装与快速上手</h2><blockquote><p>这里为了在本地演示方便，使用的是本地的 Archlinux</p></blockquote><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>首先安装必要的组件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S kubeadm kubelet kubectl</span><br></pre></td></tr></table></figure><p>这里要注意，进行下一步之前，由于 k8s 不支持 swap（为了保证容器运行），需要关闭 swap，以下命令适用于临时关闭，如果不再使用 swap，在 <code>/etc/fstab</code> 注释掉对应行即可</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo swapoff -a</span><br></pre></td></tr></table></figure><p>随后启动服务，当然也可以设置开机启动（enable）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start kubelet</span><br></pre></td></tr></table></figure><p>Kubernetes 需要一个容器运行时来实际运行容器。最常用的选择是 <code>containerd</code> 和 <code>CRI-O</code>。这里我们选择使用 <code>containerd</code>。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S containerd</span><br><span class="line">sudo systemctl start containerd</span><br></pre></td></tr></table></figure><h3 id="系统配置"><a href="#系统配置" class="headerlink" title="系统配置"></a>系统配置</h3><p>Kubernetes 需要一些特定的内核模块和系统参数来正常工作。</p><ol><li><p><strong>加载必要的内核模块</strong>：</p><ul><li><code>overlay</code> 和 <code>br_netfilter</code> 是两个内核模块，分别用于文件系统层和网络层。</li><li>创建文件 <code>/etc/modules-load.d/k8s.conf</code> 系统启动时将会自动加载这些模块</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">overlay</span><br><span class="line">br_netfilter</span><br></pre></td></tr></table></figure><ul><li>然后手动加载这些模块：</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo modprobe overlay</span><br><span class="line">sudo modprobe br_netfilter</span><br></pre></td></tr></table></figure></li><li><p><strong>设置 sysctl 参数</strong>：</p><ul><li><p>Kubernetes 需要一些特定的网络配置</p></li><li><p>创建文件 <code>/etc/sysctl.d/k8s.conf</code></p><p>前两个是使得桥接的流量（例如虚拟机或容器之间的流量）可以被 iptables 的规则所处理</p><p>最后一个是启用 IPv4 在接口之间的转发</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">net.bridge.bridge-nf-call-iptables = 1</span><br><span class="line">net.bridge.bridge-nf-call-ip6tables = 1</span><br><span class="line">net.ipv4.ip_forward = 1</span><br></pre></td></tr></table></figure><ul><li>然后应用这些参数：</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo sysctl --system</span><br></pre></td></tr></table></figure></li></ol><h3 id="集群配置"><a href="#集群配置" class="headerlink" title="集群配置"></a>集群配置</h3><ol><li>初始化控制平面：<br>控制平面是 Kubernetes 集群的核心部分，负责管理所有集群活动。使用以下命令初始化控制平面：</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo kubeadm init --pod-network-cidr=10.244.0.0/16</span><br></pre></td></tr></table></figure><p><code>--pod-network-cidr</code> 参数指定 Pod 网络的 CIDR（Classless Inter-Domain Routing，无类别域间路由）。这里我们使用 10.244.0.0/16。</p><blockquote><p>为什么选这个地址？</p><ol><li>大多数人使用的习惯</li><li>选择 10.244.0.0/16 范围，旨在最小化与集群节点可能连接的其他网络的 IP 地址冲突的风险。10.0.0.0/8 的私有网络空间很大，允许灵活选择不太可能与组织现有网络配置重叠的子网。（比如我所在学校的校园网的内网网段就有冲突部分，10.244.xxx 更不容易冲突）</li></ol></blockquote><p>这个命令完成需要一些时间哦</p><p>该命令完成后会输出一个 kubeadm join 命令，用于将工作节点加入集群。</p><p><img src="/home/grtsinry43/.config/Typora/typora-user-images/image-20240627203321509.png" class="lazyload" data-srcset="/home/grtsinry43/.config/Typora/typora-user-images/image-20240627203321509.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20240627203321509"></p><ol start="2"><li><p>为用户配置 kubectl：</p><p>按照上一步的提示创建 .kube 目录并复制配置文件：</p></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p $HOME/.kube</span><br><span class="line">sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config</span><br><span class="line">sudo chown $(id -u):$(id -g) $HOME/.kube/config</span><br></pre></td></tr></table></figure><ol start="3"><li><p>安装 Pod 网络插件</p><p>Pod 网络插件使得 Pod 之间可以通信。我们选择使用 <code>Flannel</code> 作为网络插件。</p></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml</span><br></pre></td></tr></table></figure><ol start="4"><li><p>将工作节点加入集群<br>在每个工作节点上运行在 kubeadm init 步骤中输出的 kubeadm join 命令。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo kubeadm join &lt;control-plane-host&gt;: &lt;control-plane-port&gt; --token &lt;token&gt; --discovery-token-ca-cert-hash sha256: &lt;hash&gt;</span><br></pre></td></tr></table></figure></li></ol><p><img src="/home/grtsinry43/.config/Typora/typora-user-images/image-20240627214438919.png" class="lazyload" data-srcset="/home/grtsinry43/.config/Typora/typora-user-images/image-20240627214438919.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20240627214438919"></p><h3 id="一些常用命令"><a href="#一些常用命令" class="headerlink" title="一些常用命令"></a>一些常用命令</h3><ol><li><p>查看所有节点的状态：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get nodes</span><br></pre></td></tr></table></figure></li><li><p>查看所有命名空间中的 Pod 状态：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pods --all-namespaces</span><br></pre></td></tr></table></figure></li><li><p>查看特定 Pod 的日志：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl logs &lt;pod-name&gt;</span><br></pre></td></tr></table></figure><p>​      </p></li></ol><h2 id="实际演练"><a href="#实际演练" class="headerlink" title="实际演练"></a>实际演练</h2><p>让我们搞一个简单的示例项目来实际应用一下叭~</p><p>这个例子包含一个前端（ Nginx 提供静态文件）和一个后端（ Flask 提供 API），帮助我们了解如何在 Kubernetes 上部署和管理多组件应用程序。</p><hr><p>挖坑，再研究研究之后更新（悲）</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;最近感觉 K8s 挺火的，也许是时下比较热门的技术栈了，学习过程比较曲折复杂，分享一下自己的学习过程，从快速入门，到一些深入的使用&lt;/p&gt;</summary>
    
    
    
    <category term="技术学习" scheme="https://blog.grtsinry43.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="kubernetes" scheme="https://blog.grtsinry43.com/tags/kubernetes/"/>
    
    <category term="linux" scheme="https://blog.grtsinry43.com/tags/linux/"/>
    
    <category term="运维" scheme="https://blog.grtsinry43.com/tags/%E8%BF%90%E7%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title>问题解决｜使用Less变量和媒体查询实现深浅色模式适配</title>
    <link href="https://blog.grtsinry43.com/2024/06/09/less-media-variable/"/>
    <id>https://blog.grtsinry43.com/2024/06/09/less-media-variable/</id>
    <published>2024-06-09T13:36:30.000Z</published>
    <updated>2024-08-10T16:07:05.446Z</updated>
    
    <content type="html"><![CDATA[<p>使用Less变量简化css写法，并不影响css变量和媒体查询在深浅模式切换时的效果</p><span id="more"></span><h2 id="分析问题"><a href="#分析问题" class="headerlink" title="分析问题"></a>分析问题</h2><p>首先要清楚问题的来源是什么，使用媒体查询api可以根据深浅色为css变量赋予不同的值，而Less（或是scss）不是原生被浏览器所支持，运行时需要先转为为原生css，这一步也就是编译，有点类似ts和js的关系。这里采用的是vite创建的Vue3项目<br>而Less/Scss在编译的过程中，进行的是完全的字段替换，这也就意味着在运行之前css已经被固定，无法在运行的过程中动态修改，当然也不支持媒体查询的所有属性，但一些还是支持的哈，比如设备类型，最大宽度什么的，这里深浅色默认是不支持的。</p><h2 id="问题出现"><a href="#问题出现" class="headerlink" title="问题出现"></a>问题出现</h2><p>这里首先我是想办法完全使用Less的，也就是媒体查询+正常定义变量</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@primary:</span> <span class="number">#1890ff</span>; <span class="comment">// 全局主色</span></span><br><span class="line"><span class="variable">@bg:</span> <span class="number">#ffffff</span>; <span class="comment">// 全局背景</span></span><br><span class="line"><span class="variable">@font:</span> <span class="number">#333333</span>; <span class="comment">// 全局字体颜色</span></span><br><span class="line"><span class="variable">@warning:</span> <span class="number">#faad14</span>; <span class="comment">// 警告</span></span><br><span class="line"><span class="variable">@success:</span> <span class="number">#52c41a</span>; <span class="comment">// 成功</span></span><br><span class="line"><span class="variable">@error:</span> <span class="number">#f5222d</span>; <span class="comment">// 错误</span></span><br><span class="line"><span class="variable">@info:</span> <span class="number">#1890ff</span>; <span class="comment">// 信息</span></span><br><span class="line"><span class="variable">@disabled:</span> <span class="number">#bfbfbf</span>; <span class="comment">// 失效</span></span><br><span class="line"><span class="variable">@link:</span> <span class="number">#1890ff</span>; <span class="comment">// 链接</span></span><br><span class="line"><span class="variable">@hover:</span> <span class="number">#001764</span>; <span class="comment">// hover</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">prefers-color-scheme</span>: dark) &#123;</span><br><span class="line">  <span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">    <span class="variable">@primary:</span> <span class="number">#718dff</span>; <span class="comment">// 全局主色</span></span><br><span class="line">    <span class="variable">@bg:</span> <span class="number">#1d1e21</span>; <span class="comment">// 全局背景</span></span><br><span class="line">    <span class="variable">@font:</span> <span class="number">#ffffff</span>; <span class="comment">// 全局字体颜色</span></span><br><span class="line">    <span class="variable">@warning:</span> <span class="number">#faad14</span>; <span class="comment">// 警告</span></span><br><span class="line">    <span class="variable">@success:</span> <span class="number">#a8ff7d</span>; <span class="comment">// 成功</span></span><br><span class="line">    <span class="variable">@error:</span> <span class="number">#f5222d</span>; <span class="comment">// 错误</span></span><br><span class="line">    <span class="variable">@info:</span> <span class="number">#80c1ff</span>; <span class="comment">// 信息</span></span><br><span class="line">    <span class="variable">@disabled:</span> <span class="number">#4e4e4e</span>; <span class="comment">// 失效</span></span><br><span class="line">    <span class="variable">@link:</span> <span class="number">#a0b5ff</span>; <span class="comment">// 链接</span></span><br><span class="line">    <span class="variable">@hover:</span> <span class="number">#d5e8ff</span>; <span class="comment">// hover</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>但是实际测试中发现所编译出的css根本没有<code>@media</code>的字样，所以又是inline编译了，导致完全写死，不可能在运行中改变</p><h2 id="问题解决"><a href="#问题解决" class="headerlink" title="问题解决"></a>问题解决</h2><p>因为测试Less写法一直有问题，而原生css是可以完美解决的，为了既保留Less的简便的变量写法，又解决变量无法修改的问题，因此利用字段替换编译的特性，我们可以<strong>将Less变量赋值为css变量</strong>，这样当编译之后所生成的css，依然是变量形式储存内容，具体代码可以参考：</p><p><code>colors.less</code></p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attr">--primary</span>: #1890ff; <span class="comment">// 全局主色</span></span><br><span class="line">  <span class="attr">--bg</span>: #ffffff; <span class="comment">// 全局背景</span></span><br><span class="line">  <span class="attr">--font</span>: #333333; <span class="comment">// 全局字体颜色</span></span><br><span class="line">  <span class="attr">--warning</span>: #faad14; <span class="comment">// 警告</span></span><br><span class="line">  <span class="attr">--success</span>: #52c41a; <span class="comment">// 成功</span></span><br><span class="line">  <span class="attr">--error</span>: #f5222d; <span class="comment">// 错误</span></span><br><span class="line">  <span class="attr">--info</span>: #1890ff; <span class="comment">// 信息</span></span><br><span class="line">  <span class="attr">--disabled</span>: #bfbfbf; <span class="comment">// 失效</span></span><br><span class="line">  <span class="attr">--link</span>: #1890ff; <span class="comment">// 链接</span></span><br><span class="line">  <span class="attr">--hover</span>: #001764; <span class="comment">// hover</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">@primary:</span> <span class="built_in">var</span>(--primary);</span><br><span class="line"><span class="variable">@bg:</span> <span class="built_in">var</span>(--bg);</span><br><span class="line"><span class="variable">@font:</span> <span class="built_in">var</span>(--font);</span><br><span class="line"><span class="variable">@warning:</span> <span class="built_in">var</span>(--warning);</span><br><span class="line"><span class="variable">@success:</span> <span class="built_in">var</span>(--success);</span><br><span class="line"><span class="variable">@error:</span> <span class="built_in">var</span>(--error);</span><br><span class="line"><span class="variable">@info:</span> <span class="built_in">var</span>(--info);</span><br><span class="line"><span class="variable">@disabled:</span> <span class="built_in">var</span>(--disabled);</span><br><span class="line"><span class="variable">@link:</span> <span class="built_in">var</span>(--link);</span><br><span class="line"><span class="variable">@hover:</span> <span class="built_in">var</span>(--hover);</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">prefers-color-scheme</span>: dark) &#123;</span><br><span class="line">  <span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">    <span class="attr">--primary</span>: #718dff; <span class="comment">// 全局主色</span></span><br><span class="line">    <span class="attr">--bg</span>: #1d1e21; <span class="comment">// 全局背景</span></span><br><span class="line">    <span class="attr">--font</span>: #ffffff; <span class="comment">// 全局字体颜色</span></span><br><span class="line">    <span class="attr">--warning</span>: #faad14; <span class="comment">// 警告</span></span><br><span class="line">    <span class="attr">--success</span>: #a8ff7d; <span class="comment">// 成功</span></span><br><span class="line">    <span class="attr">--error</span>: #f5222d; <span class="comment">// 错误</span></span><br><span class="line">    <span class="attr">--info</span>: #80c1ff; <span class="comment">// 信息</span></span><br><span class="line">    <span class="attr">--disabled</span>: #4e4e4e; <span class="comment">// 失效</span></span><br><span class="line">    <span class="attr">--link</span>: #a0b5ff; <span class="comment">// 链接</span></span><br><span class="line">    <span class="attr">--hover</span>: #d5e8ff; <span class="comment">// hover</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>global.less</code></p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@import</span> <span class="string">&quot;@/styles/colors&quot;</span>;</span><br><span class="line"></span><br><span class="line">*,</span><br><span class="line">*<span class="selector-pseudo">::before</span>,</span><br><span class="line">*<span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="variable">@link</span>;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">  <span class="attribute">color</span>: <span class="variable">@hover</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">ul</span> &#123;</span><br><span class="line">  <span class="attribute">list-style</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">100vh</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="variable">@font</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="variable">@bg</span>;</span><br><span class="line">  <span class="attribute">transition</span>: color <span class="number">0.5s</span>,</span><br><span class="line">  background-color <span class="number">0.5s</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.6</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: Inter,</span><br><span class="line">  -apple-system,</span><br><span class="line">  BlinkMacSystemFont,</span><br><span class="line">  <span class="string">&#x27;Segoe UI&#x27;</span>,</span><br><span class="line">  Roboto,</span><br><span class="line">  Oxygen,</span><br><span class="line">  Ubuntu,</span><br><span class="line">  Cantarell,</span><br><span class="line">  <span class="string">&#x27;Fira Sans&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;Droid Sans&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;Helvetica Neue&#x27;</span>,</span><br><span class="line">  sans-serif;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">text-rendering</span>: optimizeLegibility;</span><br><span class="line">  -webkit-<span class="attribute">font-smoothing</span>: antialiased;</span><br><span class="line">  -moz-osx-<span class="attribute">font-smoothing</span>: grayscale;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#app</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>随后正常在<code>main.js</code>引入<code>global.less</code>即可：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;@/styles/global.less&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="问题延伸"><a href="#问题延伸" class="headerlink" title="问题延伸"></a>问题延伸</h2><p>问题到这里解决了吗？当然，但是还有个需求场景，某些网站会提供用户手动切换深色浅色模式的功能，而css变量可在运行中动态修改的优势就显现了出来</p><p>这里就需要js在运行中更改变量啦，具体的实现逻辑如下：</p><p>这里采用触发事件的方式进行，在Vue3中，你可以使用<code>mitt</code>进行事件的监听，</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install mitt</span><br></pre></td></tr></table></figure><p>可以直接注册在全局app上，也可以单独延续Vue2的习惯创建Vue实例挂载到上面：</p><p>这里的举例是创建Vue实例挂载到上面，新建一个<code>eventBus.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> mitt <span class="keyword">from</span> <span class="string">&#x27;mitt&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> emitter = <span class="title function_">mitt</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> bus = <span class="title function_">createApp</span>(&#123;&#125;);</span><br><span class="line"></span><br><span class="line">bus.<span class="property">config</span>.<span class="property">globalProperties</span>.<span class="property">$bus</span> = emitter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> bus;</span><br></pre></td></tr></table></figure><p>这样就可以全局触发和监听事件</p><p>接下来创建一个工具函数，在挂载时候添加监听，新建<code>util/useColorScheme.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; onMounted, onUnmounted &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> bus <span class="keyword">from</span> <span class="string">&quot;@/eventBus.js&quot;</span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 当触发themeChange事件，切换页面的颜色主题，在onMounted，onUnmounted生命周期钩子函数中设置</span></span><br><span class="line"><span class="comment"> * 修改原理是css变量</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">useColorScheme</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">themeChange</span> = (<span class="params">theme</span>) =&gt; &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;themeChange&#x27;</span>, theme)</span><br><span class="line">        <span class="keyword">if</span> (theme) &#123;</span><br><span class="line">            <span class="comment">// 深色模式</span></span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--primary&#x27;</span>, <span class="string">&#x27;#718dff&#x27;</span>);</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--bg&#x27;</span>, <span class="string">&#x27;#1d1e21&#x27;</span>);</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--font&#x27;</span>, <span class="string">&#x27;#ffffff&#x27;</span>);</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--warning&#x27;</span>, <span class="string">&#x27;#faad14&#x27;</span>);</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--success&#x27;</span>, <span class="string">&#x27;#a8ff7d&#x27;</span>);</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--error&#x27;</span>, <span class="string">&#x27;#f5222d&#x27;</span>);</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--info&#x27;</span>, <span class="string">&#x27;#80c1ff&#x27;</span>);</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--disabled&#x27;</span>, <span class="string">&#x27;#4e4e4e&#x27;</span>);</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--link&#x27;</span>, <span class="string">&#x27;#a0b5ff&#x27;</span>);</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--hover&#x27;</span>, <span class="string">&#x27;#d5e8ff&#x27;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 浅色模式</span></span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--primary&#x27;</span>, <span class="string">&#x27;#1890ff&#x27;</span>);</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--bg&#x27;</span>, <span class="string">&#x27;#ffffff&#x27;</span>);</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--font&#x27;</span>, <span class="string">&#x27;#333333&#x27;</span>);</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--warning&#x27;</span>, <span class="string">&#x27;#faad14&#x27;</span>);</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--success&#x27;</span>, <span class="string">&#x27;#52c41a&#x27;</span>);</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--error&#x27;</span>, <span class="string">&#x27;#f5222d&#x27;</span>);</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--info&#x27;</span>, <span class="string">&#x27;#1890ff&#x27;</span>);</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--disabled&#x27;</span>, <span class="string">&#x27;#bfbfbf&#x27;</span>);</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--link&#x27;</span>, <span class="string">&#x27;#1890ff&#x27;</span>);</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--hover&#x27;</span>, <span class="string">&#x27;#001764&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        bus.<span class="property">config</span>.<span class="property">globalProperties</span>.<span class="property">$bus</span>.<span class="title function_">on</span>(<span class="string">&#x27;themeChange&#x27;</span>, themeChange);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="title function_">onUnmounted</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        bus.<span class="property">config</span>.<span class="property">globalProperties</span>.<span class="property">$bus</span>.<span class="title function_">off</span>(<span class="string">&#x27;themeChange&#x27;</span>, themeChange);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这个就是在当触发themeChange事件，切换页面的颜色主题，在onMounted，onUnmounted生命周期钩子函数中设置，工具都准备好啦，就可以在任意地方使用啦</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;ref, watchEffect&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;useColorScheme&#125; <span class="keyword">from</span> <span class="string">&quot;@/util/useColorScheme.js&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> bus <span class="keyword">from</span> <span class="string">&quot;@/eventBus.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义深浅模式的变量</span></span><br><span class="line"><span class="keyword">const</span> isDark = <span class="title function_">ref</span>(<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 切换深浅模式</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handleThemeButton</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  isDark.<span class="property">value</span> = !isDark.<span class="property">value</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">watchEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">//当深浅模式变量改变时，发出自定义事件</span></span><br><span class="line">  bus.<span class="property">config</span>.<span class="property">globalProperties</span>.<span class="property">$bus</span>.<span class="title function_">emit</span>(<span class="string">&#x27;themeChange&#x27;</span>, isDark.<span class="property">value</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title function_">useColorScheme</span>();</span><br></pre></td></tr></table></figure><h2 id="总结一下"><a href="#总结一下" class="headerlink" title="总结一下"></a>总结一下</h2><p>其实有点复杂不太优雅，不过在大的Vue项目中，一定会用到pinia，mitt等工具来进行状态管理，全局事件总线监听的，折腾一下利于积累经验（）</p><p>回到最开始的问题，原生css变量可用于动态修改，给了实时切换的可能，而less/scss的便捷写法又能大大简化开发，好啦，就到这里呀</p><h2 id="效果演示"><a href="#效果演示" class="headerlink" title="效果演示"></a>效果演示</h2><p><img src="https://dogeoss.grtsinry43.com/2024/06/20240609.gif" class="lazyload" data-srcset="https://dogeoss.grtsinry43.com/2024/06/20240609.gif" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;使用Less变量简化css写法，并不影响css变量和媒体查询在深浅模式切换时的效果&lt;/p&gt;</summary>
    
    
    
    <category term="技术学习" scheme="https://blog.grtsinry43.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="Vue.js" scheme="https://blog.grtsinry43.com/tags/Vue-js/"/>
    
    <category term="css" scheme="https://blog.grtsinry43.com/tags/css/"/>
    
    <category term="less" scheme="https://blog.grtsinry43.com/tags/less/"/>
    
  </entry>
  
  <entry>
    <title>学习分享｜原生三件套的网页效果</title>
    <link href="https://blog.grtsinry43.com/2024/06/09/learn-simple-frontend/"/>
    <id>https://blog.grtsinry43.com/2024/06/09/learn-simple-frontend/</id>
    <published>2024-06-09T13:29:07.000Z</published>
    <updated>2024-08-11T04:22:27.744Z</updated>
    
    <content type="html"><![CDATA[<p>这是学习前端基础，用原生三件套尤其是js实现效果一些学习过程的记录，首先是静态的小米商城，之后实现了一些效果，比如表格、轮播图、瀑布流等，都是为了提升自己原生js的dom操作能力</p><span id="more"></span><p>话题开始之前是一些没有用的内容：</p><p>首先是因为之前那个副硬盘位的西数盘经常掉盘（损失惨重），问了一下居然是兼容性问题（？这个好久没遇到或者听说过了），赶在硬盘涨价的时机含泪购入三星硬盘，因为测试原因单硬盘使用了一段时间，被迫用Windows一段时间还是感觉挺好用的嘛（docker/nginx/mysql等除外，用了wsl2），再加上我搞了个二手4k屏，N卡+Linux开源驱动太卡，闭源驱动没法雷电口输出，裂开，所以至今只能被迫Windows，后面给大家分享一点好用的工具。</p><p>更新：win太难用了，又回去了（）</p><p>然后还有从假期开始之前我就开始搞算法，所以假期很多时间也用来学和写算法题了，留给我写JS的时间并不多，不过还好我写算法用的Java（能和JS有几分相像？），总体也学到挺多。</p><p>至于我为什么要学前端三件套呢，这个是因为我现在没有全栈开发能力，Java的swing写点什么简直是天方夜谭，极其痛苦，所以这个假期还有这学期大部分时间我都会用来学习前端开发，当然是广义上的前端，先从网页开始，也接触并且计划了以后学习Qt，electron，Android（Jetpack Compose），Flutter</p><p><strong>一、从基础开始</strong></p><p>首先当然是从样式入手，这方面我能拿得出手的也就是描摹了一个小米商城主页，纯静态界面，然后这里面主要就是为了回顾马上就要忘记的语法，然后还有养成开发的习惯：比如以组件为单位进行开发，css分文件，规定统一的样式方便应用，几种选择器的使用，复合组件的写法，利用伪元素来实现分隔符等等</p><p><img src="https://blog.grtsinry43.com/wp-content/uploads/2024/03/image-1024x576.png" class="lazyload" data-srcset="https://blog.grtsinry43.com/wp-content/uploads/2024/03/image-1024x576.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p>大概就是一个这样的效果（还有实际的网页文件演示）</p><p><strong>二、照葫芦画瓢</strong></p><p>首先因为我学习能力有限，进度比较缓慢，还没有学习到框架，之前只是用过接触过但没有系统学习，所以这里的内容都是用原生JS实现的，更多想要去熟悉这门语言，我觉得可能这样对于以后学习框架能更容易一些</p><p>1.文字滚动效果</p><p>这里是学习到了，第一是为了防止代码污染而使用了立即执行函数，第二是用js实现动画本质上就是连续缓慢变化的画面</p><p>2.展开菜单效果</p><p>这里主要还是动画的实现</p><p>3.动态排序表格</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title function_">onCheckOneListsClick</span> =(<span class="params">e</span>)=&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (e.<span class="property">target</span>.<span class="property">tagName</span> !== <span class="string">&#x27;INPUT&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> checkNumber = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; checkOneLists.<span class="property">length</span>; i++) &#123;</span><br><span class="line">            checkOneLists[i].<span class="property">checked</span> &amp;&amp; checkNumber++;</span><br><span class="line">        &#125;</span><br><span class="line">        checkAll.<span class="property">checked</span> = checkNumber === checkOneLists.<span class="property">length</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>这个是添加事件，指定触发对象，还有一个字符的比较</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> handleThsClickFn = <span class="keyword">function</span> (<span class="params">th, index</span>) &#123;</span><br><span class="line">       <span class="keyword">if</span> (index === <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">       th.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">           <span class="keyword">var</span> arr = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(rows).<span class="title function_">sort</span>(<span class="keyword">function</span> (<span class="params">a, b</span>) &#123;</span><br><span class="line">               <span class="keyword">if</span> (index === <span class="number">2</span> || index === <span class="number">4</span>)&#123;</span><br><span class="line">                   <span class="keyword">return</span> a.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;td&#x27;</span>)[index].<span class="property">innerHTML</span>.<span class="title function_">localeCompare</span>(b.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;td&#x27;</span>)[index].<span class="property">innerHTML</span>,<span class="string">&#x27;zh&#x27;</span>);</span><br><span class="line">               &#125;</span><br><span class="line">               <span class="keyword">return</span> a.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;td&#x27;</span>)[index].<span class="property">innerHTML</span> - b.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;td&#x27;</span>)[index].<span class="property">innerHTML</span>;</span><br><span class="line">           &#125;)</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">               tbody.<span class="title function_">appendChild</span>(arr[i]);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>4.三级联动效果</p><p>这个就是常规js动态生成元素</p><p>5.积分抽奖效果</p><p>更多是学习一种思路</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> runGame = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> random = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">6000</span> + <span class="number">3000</span>)</span><br><span class="line">        timer = <span class="built_in">setInterval</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            random -= <span class="number">200</span></span><br><span class="line">            <span class="keyword">if</span> (random &lt; <span class="number">200</span>) &#123;</span><br><span class="line">                <span class="built_in">clearInterval</span>(timer)</span><br><span class="line">                timer = <span class="literal">null</span></span><br><span class="line">                <span class="title function_">openDialog</span>()</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            &#125;</span><br><span class="line">            currentIndex = ++index % prizeList.<span class="property">length</span></span><br><span class="line">            prizeList.<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">node</span>) &#123;</span><br><span class="line">                node.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;active&#x27;</span>)</span><br><span class="line">            &#125;)</span><br><span class="line">            prizeList[currentIndex].<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;active&#x27;</span>)</span><br><span class="line">        &#125;, <span class="number">50</span>)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>6.轮播图</p><p>这个就是实现无缝轮播，关键就是几行代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">next</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> newIndex = curIndex + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> onend;</span><br><span class="line">    <span class="keyword">if</span> (newIndex === doms.<span class="property">carouselList</span>.<span class="property">children</span>.<span class="property">length</span> - <span class="number">1</span>) &#123;</span><br><span class="line">        onend = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>)</span><br><span class="line">            doms.<span class="property">carouselList</span>.<span class="property">style</span>.<span class="property">marginLeft</span> = <span class="string">&#x27;0px&#x27;</span>;</span><br><span class="line">            curIndex = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">moveTo</span>(newIndex, onend);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">prev</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(curIndex);</span><br><span class="line">    <span class="keyword">var</span> newIndex = curIndex - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (newIndex &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> maxIndex = doms.<span class="property">carouselList</span>.<span class="property">children</span>.<span class="property">length</span> - <span class="number">1</span>;</span><br><span class="line">        doms.<span class="property">carouselList</span>.<span class="property">style</span>.<span class="property">marginLeft</span> = -maxIndex * containerWidth + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">        newIndex = maxIndex - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">moveTo</span>(newIndex);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>7.图片瀑布流</p><p>这个比较好玩，看源码讲</p><p>8.五子棋游戏</p><p>这个比较好玩，看源码讲</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;这是学习前端基础，用原生三件套尤其是js实现效果一些学习过程的记录，首先是静态的小米商城，之后实现了一些效果，比如表格、轮播图、瀑布流等，都是为了提升自己原生js的dom操作能力&lt;/p&gt;</summary>
    
    
    
    <category term="技术学习" scheme="https://blog.grtsinry43.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="JavaScript" scheme="https://blog.grtsinry43.com/tags/JavaScript/"/>
    
    <category term="css" scheme="https://blog.grtsinry43.com/tags/css/"/>
    
    <category term="html" scheme="https://blog.grtsinry43.com/tags/html/"/>
    
  </entry>
  
  <entry>
    <title>学习分享｜跨域解决、安卓开发探索、油猴脚本探索</title>
    <link href="https://blog.grtsinry43.com/2024/06/09/learn-share-1/"/>
    <id>https://blog.grtsinry43.com/2024/06/09/learn-share-1/</id>
    <published>2024-06-09T13:22:48.000Z</published>
    <updated>2024-08-11T02:49:07.282Z</updated>
    
    <content type="html"><![CDATA[<p>最近学习的一些内容，包括跨域问题及其解决方案，安卓开发的简单探索，OpenAI的api做了个小插件</p><span id="more"></span><p>额，把原来用Hexo托管在Github上的博客重新搞了一下，本来我是想坚持每天写博客的，但一直苦于没有时间<del>（其实就是懒）</del>，腾出时间把服务器和备案给搞了<del>（又找借口）</del>，本来想用Vue和Spring自己写的，但还没学完（ ）</p><h2 id="一、跨域问题及其解决方案"><a href="#一、跨域问题及其解决方案" class="headerlink" title="一、跨域问题及其解决方案"></a>一、跨域问题及其解决方案</h2><h3 id="1-概念"><a href="#1-概念" class="headerlink" title="1.概念"></a>1.概念</h3><p>跨域问题是指在浏览器的同源策略下，不同域名、端口或协议之间的网页请求受到限制，导致某些跨域请求被浏览器阻止。同源策略是一种安全机制，防止恶意网站获取到用户的敏感信息。</p><p><strong>源：协议+域名+端口</strong></p><ol><li><strong>不同域名</strong>：比如从 <code>domain1.com</code> 发起请求到 <code>domain2.com</code>。</li><li><strong>不同端口</strong>：比如从 <code>domain.com:3000</code> 发起请求到 <code>domain.com:4000</code>。</li><li><strong>不同协议</strong>：比如从 <code>http://domain.com</code> 发起请求到 <code>https://domain.com</code>。</li></ol><h3 id="2-解决方案"><a href="#2-解决方案" class="headerlink" title="2.解决方案"></a>2.解决方案</h3><ol><li><strong>CORS（跨域资源共享）</strong>：服务器端设置响应头，允许特定来源的请求。通过设置 <code>Access-Control-Allow-Origin</code> 头部来指定允许访问的域名，但是建议不要设置 <code>Access-Control-Allow-Origin: *</code>，在某些情况下只设置通配符会被理解为暂未配置。</li></ol><p>比如使用nodejs处理一个简单的请求</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>();</span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>, <span class="string">&#x27;127.0.0.1&#x27;</span>);</span><br><span class="line">    res.<span class="title function_">status</span>(<span class="number">200</span>).<span class="title function_">sendFile</span>(<span class="string">&#x27;XXX.html&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>此时你能够在浏览器开发人员工具——网络选项卡看到这个响应头的一部分</p><p>这里注意，是只有在响应头中看到这段语句浏览器才能正常请求，找不到语句（没有默认是拒绝）或者没有请求所在的域名均不会成功</p><ol start="2"><li><strong>JSONP（JSON with Padding）</strong>：通过 <code>&lt;script&gt;</code> 标签的方式实现跨域请求。JSONP利用了 <code>&lt;script&gt;</code> 标签可以跨域加载的特性，不过只支持GET请求，并且存在安全性问题。</li></ol><p>是早期的工程师们的非常天才的想法！这东西的原理是请求URL会返回类似<code>callbackFunction(data)</code>的字段，也就是一段js代码，这样可以使浏览器执行，从而实现预期效果</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://otherdomain.com/data?callback=myFunction&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">function myFunction(data) &#123;</span><br><span class="line">  console.log(data);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li><strong>代理服务器</strong>：在同源策略下，通过在同一个域名下创建API代理，让客户端请求自己的服务器，再由服务器转发请求到目标地址。这样可以绕过浏览器的限制。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在服务器端发起请求</span></span><br><span class="line"><span class="keyword">const</span> resp = <span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;https://pvp.qq.com/web2 herolist.json&#x27;</span>);</span><br><span class="line"><span class="comment">// 将获取的数据返回给客户端</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>, <span class="string">&#x27;127.0.0.1&#x27;</span>);</span><br><span class="line">    res.<span class="title function_">send</span>(resp.<span class="property">data</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="二、安卓开发的浅探索"><a href="#二、安卓开发的浅探索" class="headerlink" title="二、安卓开发的浅探索"></a>二、安卓开发的浅探索</h2><p>这个其实是一个迫不得已的学习内容，起因是班级同学拽上我去参加一个嵌入式比赛，作品当然是大一专属的小车（蚌埠住了），他们希望亮点是软件，所以我就现学的安卓开发，本来还学了Kotlin一瘸一拐地写了点内容，但后来搞一些复杂的内容用一个不熟悉的语言还是太痛苦，所以还是回到了Java</p><p> <a href="https://github.com/" title="Github">GitHub</a></p><p><a href="https://github.com/grtsinry43/stm32-project-smartcontrol">grtsinry43/stm32-project-smartcontrol</a></p><p>项目包括以下几个类：</p><ul><li>MainActivity.java：应用的主界面，实现手动控制，扫码反序列化，关于页面等功能</li><li>BluetoothActivity.java：实现蓝牙的连接和通信</li><li>ControlActivity.java：实现小车的控制指令的发送和接收</li><li>QRCodeActivity.java：实现二维码的扫描和解析</li><li>AboutActivity.java：显示应用的相关信息</li></ul><p>所有都是现学的，我就大概说一下我学到了什么吧：</p><p>安卓开发是标准舒服的行为样式相分离，开发的单位是Java/Kotlin的类，每个界面是Activity，每个图形元素有对应的xml样式布局文件。大体上开发时候先用Adobe XD或者sigma（国内也可以即时设计啥的）设计好界面，然后为每个元素写xml文件，Activity里面通过id找到元素，可以添加、修改元素，可以监听元素动作（比如Button），但是通知线程服务啥的必须得学明白，别像我啥都不会，写的时候很痛苦</p><h2 id="三、OpenAI的api简单使用"><a href="#三、OpenAI的api简单使用" class="headerlink" title="三、OpenAI的api简单使用"></a>三、OpenAI的api简单使用</h2><p>就是用js调用一个api，把回应显示出来，没什么复杂的，现在以我的技术只能做出这样（捂脸），前端有太多需要学的了……</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ==UserScript==</span></span><br><span class="line"><span class="comment">// @name         GPT Answer</span></span><br><span class="line"><span class="comment">// @namespace    http://tampermonkey.net/</span></span><br><span class="line"><span class="comment">// @version      0.1</span></span><br><span class="line"><span class="comment">// @description  Get GPT answer for selected text</span></span><br><span class="line"><span class="comment">// @author       You</span></span><br><span class="line"><span class="comment">// @match        *://*/*</span></span><br><span class="line"><span class="comment">// @grant        none</span></span><br><span class="line"><span class="comment">// ==/UserScript==</span></span><br><span class="line"></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="string">&#x27;use strict&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建悬浮提示框</span></span><br><span class="line">    <span class="keyword">var</span> tooltip = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">    tooltip.<span class="property">style</span>.<span class="property">position</span> = <span class="string">&#x27;fixed&#x27;</span>;</span><br><span class="line">    tooltip.<span class="property">style</span>.<span class="property">zIndex</span> = <span class="string">&#x27;9999&#x27;</span>;</span><br><span class="line">    tooltip.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">    tooltip.<span class="property">innerHTML</span> = <span class="string">&#x27;&lt;button id=&quot;gpt-answer&quot;&gt;GPT回答&lt;/button&gt;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建GPT回答显示区域</span></span><br><span class="line">    <span class="keyword">var</span> answerArea = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">    answerArea.<span class="property">style</span>.<span class="property">position</span> = <span class="string">&#x27;fixed&#x27;</span>;</span><br><span class="line">    answerArea.<span class="property">style</span>.<span class="property">zIndex</span> = <span class="string">&#x27;9999&#x27;</span>;</span><br><span class="line">    answerArea.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">    answerArea.<span class="property">style</span>.<span class="property">outline</span> = <span class="string">&#x27;1px solid&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(tooltip);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(answerArea);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 监听文本选择事件</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mouseup&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> selectedText = <span class="variable language_">window</span>.<span class="title function_">getSelection</span>().<span class="title function_">toString</span>().<span class="title function_">trim</span>();</span><br><span class="line">        <span class="keyword">if</span> (selectedText) &#123;</span><br><span class="line">            <span class="keyword">var</span> selectedElement = <span class="variable language_">window</span>.<span class="title function_">getSelection</span>().<span class="property">anchorNode</span>.<span class="property">parentNode</span>;</span><br><span class="line">            <span class="keyword">var</span> rect = selectedElement.<span class="title function_">getBoundingClientRect</span>();</span><br><span class="line">            tooltip.<span class="property">style</span>.<span class="property">left</span> = (rect.<span class="property">right</span> + <span class="number">10</span>) + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">            tooltip.<span class="property">style</span>.<span class="property">top</span> = rect.<span class="property">top</span> + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">            tooltip.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;block&#x27;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            tooltip.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 监听GPT回答按钮点击事件</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;gpt-answer&#x27;</span>).<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> selectedText = <span class="variable language_">window</span>.<span class="title function_">getSelection</span>().<span class="title function_">toString</span>().<span class="title function_">trim</span>();</span><br><span class="line">        <span class="keyword">if</span> (selectedText) &#123;</span><br><span class="line">            <span class="comment">// 调用OpenAI API</span></span><br><span class="line">            <span class="title function_">fetch</span>(<span class="string">&#x27;https://api.openai.com/v1/chat/completions&#x27;</span>, &#123;</span><br><span class="line">                <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">                <span class="attr">headers</span>: &#123;</span><br><span class="line">                    <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">                    <span class="string">&#x27;Authorization&#x27;</span>: <span class="string">&#x27;Bearer API_KEY&#x27;</span></span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">body</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">                    <span class="attr">model</span>: <span class="string">&quot;gpt-3.5-turbo&quot;</span>,</span><br><span class="line">                    <span class="attr">messages</span>: [</span><br><span class="line">                        &#123;<span class="string">&quot;role&quot;</span>: <span class="string">&quot;system&quot;</span>, <span class="string">&quot;content&quot;</span>: <span class="string">&quot;你是一个耐心回答问题的助手，请解答这个问题，谢谢！&quot;</span>&#125;,</span><br><span class="line">                        &#123;<span class="string">&quot;role&quot;</span>: <span class="string">&quot;user&quot;</span>, <span class="string">&quot;content&quot;</span>: selectedText&#125;</span><br><span class="line">                    ]</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> response.<span class="title function_">json</span>())</span><br><span class="line">            .<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="comment">// 在固定位置显示GPT的回答</span></span><br><span class="line">                <span class="keyword">var</span> gptResponse = data[<span class="string">&#x27;choices&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;message&#x27;</span>][<span class="string">&#x27;content&#x27;</span>];</span><br><span class="line">                answerArea.<span class="property">textContent</span> = gptResponse;</span><br><span class="line">                <span class="keyword">var</span> selectedElement = <span class="variable language_">window</span>.<span class="title function_">getSelection</span>().<span class="property">anchorNode</span>.<span class="property">parentNode</span>;</span><br><span class="line">                <span class="keyword">var</span> rect = selectedElement.<span class="title function_">getBoundingClientRect</span>();</span><br><span class="line">                answerArea.<span class="property">style</span>.<span class="property">left</span> = (rect.<span class="property">right</span> + <span class="number">10</span>) + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">                answerArea.<span class="property">style</span>.<span class="property">top</span> = (rect.<span class="property">bottom</span> + <span class="number">10</span>) + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">                answerArea.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;block&#x27;</span>;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 监听页面点击事件，隐藏GPT回答显示区域</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (e.<span class="property">target</span> !== answerArea &amp;&amp; e.<span class="property">target</span> !== tooltip &amp;&amp; e.<span class="property">target</span> !== <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;gpt-answer&#x27;</span>)) &#123;</span><br><span class="line">            answerArea.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;最近学习的一些内容，包括跨域问题及其解决方案，安卓开发的简单探索，OpenAI的api做了个小插件&lt;/p&gt;</summary>
    
    
    
    <category term="技术学习" scheme="https://blog.grtsinry43.com/categories/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="JavaScript" scheme="https://blog.grtsinry43.com/tags/JavaScript/"/>
    
    <category term="网络" scheme="https://blog.grtsinry43.com/tags/%E7%BD%91%E7%BB%9C/"/>
    
    <category term="安卓" scheme="https://blog.grtsinry43.com/tags/%E5%AE%89%E5%8D%93/"/>
    
  </entry>
  
  <entry>
    <title>高考之后回来啦</title>
    <link href="https://blog.grtsinry43.com/2023/06/16/helloback/"/>
    <id>https://blog.grtsinry43.com/2023/06/16/helloback/</id>
    <published>2023-06-16T15:21:49.000Z</published>
    <updated>2024-08-10T16:07:02.410Z</updated>
    
    <content type="html"><![CDATA[<p>终于终于，忙碌而又充实的高三生活结束了，当然，这也意味着人生的一个新阶段开始啦<br>作为计算机技术的爱好者但也是小白，这次是一个新的起点，</p><p>希望自己能抓住这段时间，不断进步和成长。生命不息，学习不止！</p><span id="more"></span><p>未来这里会更新我的学习笔记和收获，希望自己不断进步，踏实进取！也希望自己和同行的朋友相互督促拒绝摆烂！</p><p><strong>总之岁月漫长，然而值得等待！苦尽甘来的那一天，山河星月都做贺礼！</strong></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;终于终于，忙碌而又充实的高三生活结束了，当然，这也意味着人生的一个新阶段开始啦&lt;br&gt;作为计算机技术的爱好者但也是小白，这次是一个新的起点，&lt;/p&gt;
&lt;p&gt;希望自己能抓住这段时间，不断进步和成长。生命不息，学习不止！&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>高中时期一些文章的整理合集</title>
    <link href="https://blog.grtsinry43.com/2023/06/15/article-archive/"/>
    <id>https://blog.grtsinry43.com/2023/06/15/article-archive/</id>
    <published>2023-06-15T06:21:19.000Z</published>
    <updated>2024-08-10T16:07:03.650Z</updated>
    
    <content type="html"><![CDATA[<p>这里归档了一些我高中时候写的作文，既是黑历史，也是一段之前的记忆吧</p><p>大多数都是格式文章，千篇一律的套路啦</p><span id="more"></span><hr><p>Hi~居然让你发现了，这是我高考前自己写的和积累的一些文章。</p><p>如果你正在准备高考，那么这些主题很明确语言很吸人眼球的文章会对你有很大帮助；</p><p>如果你只是看完技术文章之后发现了这里，不妨期待一下以后我会更新的读书笔记。</p><p>无论年龄大小，学历高低，我们一直在学习，我们一直在路上</p><!--more--><hr><h2 id="最是经历能致远-踔厉成长重担肩"><a href="#最是经历能致远-踔厉成长重担肩" class="headerlink" title="最是经历能致远 踔厉成长重担肩"></a>最是经历能致远 踔厉成长重担肩</h2><p>2022-05-20 20:01:03</p><p>适用于：经历，成长，责任</p><blockquote><p>  踏遍脚下的荆棘丛生，是为了赶上日出的秀丽璀璨。</p></blockquote><p>  见证十七载春秋，我们骄傲于东方巨龙之腾跃，欣喜于人生漫路之新篇，当下时代，必定有我们踔厉成长、重任担肩。</p><p>  <strong>经历繁华，见证大国的泱泱崛起。</strong>“北京欢迎你，为你开天辟地……”，第一次让五环矗立在中国，第一次让世界认识中国。援引一曲宫商角徵羽，回首见东方雄起之中华。我们有幸看到这样的中国，更有幸证明这样的发展。高铁里程世界第一、潜艇技术世界第一、发展速度再创新篇……一座座高楼拔地而起，一艘艘火箭冲向蓝天，一个个乡村脱贫摘帽。这砥砺奋进的五年，正谱写新篇。对于我们，文化上有中华文明的繁荣；物质上，有衣食无忧的生活；科技上，见证了移动支付的畅快便捷。无数次为生在中国而骄傲，无数次因身为中华民族而心生自豪。<br>  <strong>经历人生，书写成长的熠熠华章。</strong>“相信自己，相信学校，缔造传奇，续写荣光！”2020年着实是不平凡的一年，当全民抗疫、共克时艰遇上拼搏百日、圆梦中考，也造就了我们不平凡的经历。八周网课，隔着屏幕却隔不断知识与爱；居家隔离，隔不住亲情、友情、师生情；带上口罩，阻隔不了对知识的渴望与追求。经历了考验，我们才更有对生活的勇气；磨砺过后，才更有意志不懈奋斗。带上这份经历，才让我们“目标明确，积极向上；勤学苦练，斗志昂扬；讲究方法，保质保量；顽强拼搏，不弃不放；严守纪律，自信自强；争分夺秒，适度紧张；自我调整，身心健康；全力以赴，创造辉煌”！<br>  <strong>经历坎坷，扛起时代的殷殷重任。</strong>“当下的国际形势与一战前并无两样”。我们不是生在一个和平的年代，而是生在一个和平的国家。当下各国为利益而追逐，为利益不惜一切，破坏环境，封锁猜忌。<br>  近日，“杂交水稻之父”袁隆平院士与世长辞，他的“杂交水稻覆盖全球梦”正传到我们手上。经历了十六载春秋的我们，重任在肩，责无旁贷。<br>  经历了崛起，方知背后艰辛；经历了辉煌，方知留下汗水；经历了历史方知重担已然在肩。我们早已成长为时代的接班人，站在两个一百年的历史交汇点上，前方必定有风雨载途。但也正有一路风霜，才有一份收获。<strong>百年大党，不畏艰难；吾辈青年，奋勇自强。磨砺中学会自强，重启我们的风光霁月，成为当之无愧的中国脊梁！</strong></p><hr><h2 id="百年奋斗，踔厉奋发，不负韶华"><a href="#百年奋斗，踔厉奋发，不负韶华" class="headerlink" title="百年奋斗，踔厉奋发，不负韶华"></a>百年奋斗，踔厉奋发，不负韶华</h2><p>2022-05-22 20:50:26</p><p>适用于：青年，奋斗</p><p>余秋雨曾说：</p><blockquote><p>青春的力量无可压抑，即使是地狱也能变成天堂。</p></blockquote><p>  青春的力量势如破竹，能超越重重阻碍蓬勃生长；青春的力量赤诚勇敢，能不惧狂澜直面挑战；青春的力量热血激昂，能激荡风云勇立潮头。</p><p>  疫情当前，无数青年投入到抗疫一线，化身 “大白” 在四处奔波、在前方坚守，只为守护人民群众的生命健康；<br>  祖国边关，无论是戈壁滩涂还是千里雪山，我们总能见到青年士兵孤独但挺拔的身影，他们无畏泥泞沙砾、风霜雨雪，誓死捍卫中华神圣疆土；<br>  星河浩瀚，曾经遥不可及的飞天梦、入海梦，如今一个个变为了现实，一项项成就都凝聚着无数青年科研人继往开来、潜心攻关的心血。<br>  奉献楷模（这里应该怎么改，求小伙伴们斧正一下）黄文秀学成归乡，怀赤诚坚毅之心坚守脱贫攻坚最前线，村子种植业的快速发展和 “乡风文明” 的荣誉称号，都是她向时代交出的精彩答卷；<br>  失聪女孩江梦南顽强逐梦，求学路上克服难以想象的困难，心怀大爱、深耕科研，投身生命科学研究，立志解决生命健康的难题；<br>  天才少年苏翊鸣不忘初心，满腔热爱投入滑雪事业，挫折面前他越战越勇，终于北京冬奥会摘得桂冠，惊艳世人。<br>  青年应是追光者，以意气风发的姿态、以所向披靡的气魄，向着梦想一往无前<br>过去，孙中山先生殷切期盼：</p><blockquote><p>唯愿诸君将振兴中华之责任，置于自身之肩上。<br>现在，习近平总书记谆谆教诲：<br>当代青年要在实现民族复兴的赛道上奋勇争先。</p></blockquote><p>  “守鹤姑娘” 徐卓传承家族使命，将自己的青春奉献给了这片孕育着无限生命的湿地，只愿守护美丽的丹顶鹤，为野生动物保护事业贡献力量；<br>  研发北斗导航系统的青年科学家徐颖致力于科普事业，让更多人普通人也能走近科学，为科技强国梦添砖加瓦；<br>  “亚洲飞人” 苏炳添不断突破极限，刷新了亚洲的百米纪录，打破成见、勇创佳绩，让世界看到中国速度，惊叹中国崛起。<br>林则徐在诗中写道：</p><blockquote><p>苟利国家生死以，岂因祸福避趋之。</p></blockquote><p>  兴国梦、强国梦需要每一位青年勇担使命，继往开来，将家国情怀融入个人成长。“青年一代有理想、有本领、有担当，国家就有前途，民族就有希望。” <strong>青春力量催人奋进，青春精神鼓舞人心，青春使命促人成长。</strong>   新时代青年不负韶华，未来可期！</p><hr><h2 id="努力是弥补天赋的秘籍"><a href="#努力是弥补天赋的秘籍" class="headerlink" title="努力是弥补天赋的秘籍"></a>努力是弥补天赋的秘籍</h2><p>2022-05-23 23:34:36</p><p>爱迪生：</p><blockquote><p>天才是百分之一的灵感加上百分之九十九的汗水。</p></blockquote><p>  然而，这个世界并没有多少天才，绝大多数人的奋斗也远没有到拼天赋的程度。</p><p>  即使你只有百分之一的天赋，也请用百分之九十九的汗水去努力。努力所贮蓄的力量，远比你想的要强大。</p><p>胡适:</p><blockquote><p>成功不必在我，而功力必不唐捐。</p></blockquote><p>植物学家钟扬:</p><blockquote><p>生命的高度绝不只是一种形式。</p></blockquote><p>  当一个物种要拓展其疆域而必须迎接恶劣环境挑战的时候，总是需要一些先锋者牺牲个体的优势，以换取整个群体乃至物种新的生存空间和发展机遇。十六年奔波在雪域高原，钟扬立心于天地间，为未来收集火种，为人类储存生机。</p><p>卡莱尔:</p><blockquote><p>要迎着晨光实干，不要面对晚霞幻想。</p></blockquote><p>  兴趣如同流火，可以点燃一时的激情，却无法燃烧一整片心灵旷野。努力却能为这片旷野栽种一粒粒种子，使它们生根发芽。它让兴趣变成爱好，让爱好变成才华。</p><p>  唯有脚踏实地，你才能找到真正所爱，所爱才会凝成你生命中的一道光。</p><p>老舍:</p><blockquote><p>才华是刀刃，辛苦是磨刀石，再锋利的刀刃，若日久不磨，也会生锈。</p></blockquote><p>  天赋看似比努力重要，但却离不开努力。<br>  这份上天恩赐的礼物，经不起时光的消耗，唯有努力的汗水才能使它愈发熠熠生辉。</p><h2 id="赶路人，不负星光"><a href="#赶路人，不负星光" class="headerlink" title="赶路人，不负星光"></a>赶路人，不负星光</h2><p>  月亮本无光，努力久了也光芒万丈。人生瀚海，一苇似航，脚下的石子早已让稚嫩的双脚伤痕累累，赶路人，不负星光。</p><p>  凌晨两点的夜晚很安静，早上五点的空气很迷人。看那深色的幕布之上，群星点点，闪烁之间，隐隐晃动着一滴滴汗水，是努力的璀璨，虽萤烛末光也增辉日月。</p><p>  在追逐星光的路上，不乏有艰难险阻，可是我们都不孤单，当夜晚孤军奋战，满天星光为我们而闪烁。</p><p>  星光不负赶路人，时光不负有心人。众生皆苦，道阻且长，可心向往之，行则将至。我们既可以一鸣惊人，亦可以一落千丈，现在的拼搏，都是为了六月的硕果。命运从不会偏袒任何人，却一定会垂怜努力的人，请一定默默积淀，惊艳世人。</p><p>  路的尽头是温柔和月光，踏漫漫长途背负满天星光。</p><p>  总有一天你会发现，你所有的负担都成为了礼物，你所吃过的苦也终将照亮你的路。</p><p>  <strong>苦尽甘来的那一天，山河星月都做贺礼。</strong></p><hr><h2 id="意志是平凡人的超能力"><a href="#意志是平凡人的超能力" class="headerlink" title="意志是平凡人的超能力"></a>意志是平凡人的超能力</h2><p>2022-05-24 23:38:06</p><p>  没有意志，理想便是幻想。</p><p>  意志如同一团火，燃烧着怒放的生命。它帮助每一个平凡的人，不畏前方模糊不清，不顾道路荆棘满地，跨越出身、基因和环境的局限，想着看似遥不可及的梦想奔跑，创造属于自己的精彩。</p><blockquote><p>人，最可怕的不是疾病，而是丧失了意志和信念。</p></blockquote><p>  因为信念，双腿瘫痪的史铁生执笔与命运抗争；因为信念，自小患有小儿麻痹症的威尔玛・鲁道夫最终成为传奇的田径运动员；因为信念，全身瘫痪的霍金仍不放弃探索宇宙。</p><p>  疾病只能打倒肉体，却无法撼动坚定的信念。</p><blockquote><p>宿命论是那些缺乏意志力的弱者的借口。</p></blockquote><p>  真正的强者，在于有脆弱的凡人躯体，却有不可磨灭的神性。真正的强者，在于认清宿命的不公，却未有一句抱怨，以行动来抗争宿命。</p><p>  宿命或设下无限阻碍，我便怀有无限跨过阻碍之向往。</p><p>  未来或是宿命之规限，我愿做舍命之狂徒。</p><p>  牌之好坏或在于天，结局输赢却事在人为。并非所有的康庄大道都直达繁花似锦，并非所有的崎岖陡峭都指向茕茕孑立。文王、韩非，身陷囹圄；孙膑、左丘，断骨失明；屈原、吕不韦，流放千里。但他们并没有销神流志，顺遂事意。而是在绝境之中，以铁打铜铸的精神，培育思想之光，书写历史烟云。</p><blockquote><p>没有一个冬天不可逾越，没有一个春天不会来临。</p></blockquote><p>  意志是每个人都能获得的超能力，但并不是人人都能最终拥有。</p><p>  它需要一往无前的锐意和矢志不渝的信仰，需要身处逆境的从容和反观自我的认可。</p><p>  它有着愚公移山一般的毅力，它有着精卫填海一般的决心。</p><h2 id="不啻微芒，造炬成阳"><a href="#不啻微芒，造炬成阳" class="headerlink" title="不啻微芒，造炬成阳"></a>不啻微芒，造炬成阳</h2><p>  和光同尘，有英雄以生命赴使命，于平凡岗位，为国献宏图；与时舒卷，有青年以韶光献中华，行平凡善举，为国洒青春。</p><h3 id="前生热血洒疆场，后生深藏献家国"><a href="#前生热血洒疆场，后生深藏献家国" class="headerlink" title="前生热血洒疆场，后生深藏献家国"></a>前生热血洒疆场，后生深藏献家国</h3><p>  生逢乱世，岂能安于沟涧？自将扶摇，逆转临渊而侧。张富清、宋良友于异军突起时冲波逆折，他们从戎马倥偬中走来，于静水流深处深藏功与名，甘愿在平凡岗位继续为祖国奉献。无论在热血抛洒的疆场，还是平凡的岗位，都是最可爱的人！</p><h3 id="既处铜山到途中，平凡撑起不凡梦"><a href="#既处铜山到途中，平凡撑起不凡梦" class="headerlink" title="既处铜山到途中，平凡撑起不凡梦"></a>既处铜山到途中，平凡撑起不凡梦</h3><p>  星河长明，岁月成碑。不经意间会发现：平凡亦不凡。君可见，有人于闹市中挺立，喝断暴徒的路，聚起民间正气；君可见，有人放弃优厚高薪，甘愿做脱贫攻坚的基石；君可见，有人不顾自身安危，除夕夜为医护人员送去年夜饭。平凡小我，铸就宏伟中国梦。</p><h3 id="夜暗方显万颗星，灯明始见一缕尘"><a href="#夜暗方显万颗星，灯明始见一缕尘" class="headerlink" title="夜暗方显万颗星，灯明始见一缕尘"></a>夜暗方显万颗星，灯明始见一缕尘</h3><p>  庚子年初，荆楚大疫。然冬将尽，春可有期。白衣天使，身负青囊，剑指远方；志愿青年，不惧严寒，挺立岗位，生命保障；建设工人，夜以继日，中国速度，拔地而起。他们那平凡亦不凡的行动化为炯炯明烛，终驱散雾霭，换来皓月耀辉。</p><p>  冀以晨雾之微补益山海，萤烛末光增辉日月，让我们尽微风凝热风，且聚微光汇大光。</p><p>  <strong>沧海横流，方显微尘之志；云海翻涌，更添世界之光！</strong></p><hr><h2 id="磨炼是成功的双生子"><a href="#磨炼是成功的双生子" class="headerlink" title="磨炼是成功的双生子"></a>磨炼是成功的双生子</h2><p>2022-05-26 23:15:26</p><p>  迷茫是一座围剿意志的迷宫，却并非是追逐理想的唯一阻碍。推倒高高的围墙，你的征程仍有山重水复，坎坷崎岖。树立了目标却受困于迷茫，是忽视自省；突破了迷茫却承受不了磨炼，是缺乏韧性。</p><blockquote><p>所以动心忍性，曾益其所不能。</p></blockquote><p>  所有的快乐都是悲伤编织的，所有的成功都是磨练锻造的。睡手可得的果实往往并不甜美，稳操胜券的追求通常局限于眼前。磨炼不是折磨人类肉体和精神的魔鬼。它是积蓄力量的苦痛，是凤凰涅槃的考验，是淬着血泪的成长。</p><blockquote><p>当华美的叶片落尽，生命的脉络才历历可见。</p></blockquote><p>  挫折是成长的印记，苦难是生命的勋章。没有饱经风霜，又怎能迎来希望和荣光。</p><p>  霍金乐观地坐在轮椅上，用仅能活动的几个手指操纵鼠标，解析宇宙的奥秘；贝多芬孤独地徘徊在失去声音的世界里，凭借顽强的意志和自身的创作经验，终为世人留下荡魂摄魄的乐章。</p><h3 id="每一个璀璨的生命，都离不开千锤百炼，离不开奋发图强。"><a href="#每一个璀璨的生命，都离不开千锤百炼，离不开奋发图强。" class="headerlink" title="每一个璀璨的生命，都离不开千锤百炼，离不开奋发图强。"></a>每一个璀璨的生命，都离不开千锤百炼，离不开奋发图强。</h3><blockquote><p>历经万般红尘，犹如凉风轻拂面。</p></blockquote><p>  我们身处的外部环境都是相似的：顺境与逆境交替，幸运与危机并存。悲观的人放大了苦难，因而丧失斗志，离成功愈远；乐观的人缩小了苦难，因而更加勇敢，离成功愈近。</p><blockquote><p>枫叶经霜艳，梅花透雪香。</p></blockquote><blockquote><p>人的生命似洪水在奔流、不遇着岛屿、暗礁，难以激起美丽的浪花。</p></blockquote><p>  瘤腿诗人拜伦迎着坎坷的人生、吟唱出礼赞生命的诗篇；追逐平等的卢梭抗争命运的不幸、思想巨作化为冲天流星、迎着黑暗进发出光芒；流浪异乡的果戈里，一生都在命运的洪流里跌爬滚打，终养成犀利的笔风，如带着锋芒的长剑、刺痛了世界的黑暗肮脏。“枫叶经霜艳，梅花透雪香”，每一个历经沧桑的灵魂，终会浴火重生，进发出惊才绝艳的光芒。</p><p>  <strong>只有经历地狱般的磨炼，才有战胜天堂的力量。</strong></p><hr><h2 id="肩负使命，一路星光"><a href="#肩负使命，一路星光" class="headerlink" title="肩负使命，一路星光"></a>肩负使命，一路星光</h2><p>2022-05-28 23:38:22</p><p>《说文解字》有云：“崛，山短而高也。”</p><p>崛起，其路艰辛，其势却盛。</p><p>实现崛起，需要更坚韧的毅力和更强大的勇气。</p><p>在复兴路上，多少人劈波斩浪，为民族未来而不懈奋斗，他们用脚步踏出比太阳更光辉的征途，激励着一代代后辈为这份不朽的事业贡献力量。如今，肩负时代使命的你我，要用汗水书写崭新的故事。<br>使命这个词语所承载的，是时代的重托，民族的厚望。</p><p>勇于反思是为了更好地履行使命，而唯有坚持反思，才能积蓄起崛起的实力。每个人的使命各异，但所有人的使命都指向同一个中国梦，都是为国家富强、民族振兴和人民幸福而奋勇拼搏。</p><p>对于身为学生的我们，“为中华之崛起而读书” 绝不仅是一句口号，更要付诸行动。<br>九万里风鹏正举，年轻的心跳和着时代节拍，正奏响未来的鼓点。</p><p>家国赋予我们每个人以使命，让前进的路上有光可寻。英雄如河，平凡如溪，百川终归海，不同的使命没有等级，只要能将一腔热血倾注，就都是闪光的丰碑。</p><p>在完成使命的路上我们不断成长，将自己的追求融入祖国的建设，让每一滴汗水都不干涸。</p><hr><h2 id="于沉潜中镌刻伟大"><a href="#于沉潜中镌刻伟大" class="headerlink" title="于沉潜中镌刻伟大"></a>于沉潜中镌刻伟大</h2><p>2022-05-31 11:59:01</p><blockquote><p>沉潜岁月方能镌刻生命伟大，寂寞岁月才能盛放世界繁华。—— 题记</p></blockquote><p>  阴雨成就绚烂，长夜相伴璀璨，罅隙孕育挺拔。生活在当下，娱乐当道、物欲横流，刺激充斥耳目，但唯有枯燥生活才是生命本真的栖息，枯燥生活筑造不凡人生。</p><p>  <strong>沉潜而行，舍半生而经典成。</strong>一书只叙平实语，一生只撰天地书，路遥以真挚语言绘成书卷经典；自谦成名士，自勉著春秋，左丘明身为史官不张不扬、恪守本心，用正史精文成就万世流传。钱锺书沉心写作，不慕名利，成泰斗之风；刘慈欣不惧批评嘲讽用几十年如一日见科幻小说笔下涌流。文艺创作本就是枯燥的过程，但他们守一方书桌，<strong>十年心血成巨著，沉潜岁月成不凡。</strong> </p><p>  <strong>沉潜而行，一生付而家国筑。</strong>昔日的中国，危难四起，存亡未卜，是钱学森、于敏等一生隐姓埋名，用满腔热血报家国，终两弹成而民族盛；今日的中国，技术壁垒，专利封锁，是南仁东汇挺之脊梁为天眼之功，是任正非团队脚踏实地证中华有为，是无名建设者让国产飞机翱碧空，复兴和谐通华夏。一项又一项成功的背后，是一代又一代人就在枯燥的研究之下，在千篇一律的实验之中伟业筑成。“耐得住寂寞，才守得住繁华。” <strong>身怀华夏千钧业，德范频添华表辉。</strong></p><p>   <strong>沉潜而行，汇小我而济苍生。</strong>“我生来就是高山而非溪流”，张桂梅身系教育，爱孕桃李，让巾帼英雄走出大山；张玉滚用一根扁担托起孩子梦想，用一份坚守写下三尺讲台的责任。伏一方稻田，倾一生血汗，袁隆平用汗水浇灌梦想，更在沉潜中钻研，稻下乘凉已非憧憬希冀，杂交水稻必将遍及全球。她是研究者，更是实践者，“呦呦鹿鸣，食野之蒿”，毕生所致，炼就青蒿，屠呦呦做最枯燥的研究，成最不凡的价值。<strong>他们用一生躬耕梦想，绘就人间大爱与希望，沉潜之中苍生情怀氤氲芬芳。</strong></p><p>   有人说，这个世界最不缺的就是 “笨” 人，而这种 “笨” 就是脚踏实地，耐住寂寞，反观当下众人厌恶枯燥，不甘沉潜，享受高刺激的生活，注意力不断下降，意志消沉、不思进取，也必定难以忍受黎明前的黑暗。<br>  一切成功的前奏必定是无声的停歇，一切繁华的背后必定有甘愿沉潜的力量，枯燥终会成为生命的滋养，沉潜之中，镌刻世间伟大。</p><blockquote><p>当红日霞光擦亮天际，当漫漫长夜伴着生命的歌唱，那份枯燥与沉潜的坚守，终会成为人生醇厚的酒酿。—— 后记</p></blockquote><hr><h2 id="双奥之城矗华夏，承前启后续新章"><a href="#双奥之城矗华夏，承前启后续新章" class="headerlink" title="双奥之城矗华夏，承前启后续新章"></a>双奥之城矗华夏，承前启后续新章</h2><p> 2022-06-07 11:45:36</p><blockquote><p>绘民族之风浩然屹立，承不灭精神复兴中华。—— 题记</p></blockquote><p>  14 年前，一曲宫商角徵羽援引华夏之歌，镌刻东方巨龙的雄起；展今朝，着前沿科技互联万物，跨越智慧未来的全新起点。昨日世界聚焦，今日自信腾跃，中国少年与少年中国并肩而行，跨越时代启新篇。</p><h3 id="跨越奥运，发展与机遇并肩而行。"><a href="#跨越奥运，发展与机遇并肩而行。" class="headerlink" title="跨越奥运，发展与机遇并肩而行。"></a>跨越奥运，发展与机遇并肩而行。</h3><p>  从首金到突破，从轻蔑到尊重，中国体育的几十年终究不平凡，可纵使荆棘满布，定有侠肝义胆仗剑问苍穹。” 玉汝于成，砺就不凡”，中国运动健儿以热血筑就光亮，至暗时刻等待破晓。“守一座守不住的城，打一场打不赢的仗”，是谷爱凌的放手一搏超越极限，是武大靖的背水一战力争卫冕，是高亭宇的鉴定信念蓄势待发。14 年，是跨越，更是巨变，是全民参与的热情与体育世界的发展，<strong>双奥之城贯苍穹，热血健儿毅争锋。</strong></p><h3 id="跨越历史，苦痛与荣誉交相辉映。"><a href="#跨越历史，苦痛与荣誉交相辉映。" class="headerlink" title="跨越历史，苦痛与荣誉交相辉映。"></a>跨越历史，苦痛与荣誉交相辉映。</h3><p>  昔日中国，国运飘摇，同胞受难，发展落后，是毛泽东、周恩来以重振民族为己任，团结群众，投身革命，让中国人站起身来当家做主，沥肝胆而民族振；大国威慑，民族危亡，是邓稼先、于敏甘愿隐姓埋名，倾注满腔热血，投身茫茫大漠，一生注而两弹成；砥砺奋进的五年，无数建设者以生命挺脊梁，才有了天眼落成仰望星空的璀璨，飞机翱翔国产自主的骄傲，蛟龙下海俯瞰碧浪的深邃，巨龙崛起平视世界的骄傲。<strong>千载横跨国屹立，数代青年扬志气。</strong></p><h3 id="跨越发展，青年已身担复兴重任。"><a href="#跨越发展，青年已身担复兴重任。" class="headerlink" title="跨越发展，青年已身担复兴重任。"></a>跨越发展，青年已身担复兴重任。</h3><p>  历史交汇，科技前沿，吾辈青年，跨越向前。十几载春秋从懵懂到成熟，从稚嫩到担当，踔厉成长，国之栋梁。青年应是追光者，以意气风发的姿态、以所向披靡的气魄，向着梦想一往无前。过去，孙中山先生殷切期盼：“唯愿诸君将振兴中华之责任，置于自身之肩上。” 现在，习近平总书记谆谆教诲：“当代青年要在实现民族复兴的赛道上奋勇争先。” 看当代青年投身科技，神威太湖名扬国际；看今朝少年永勇赴前线，点燃生命蓬勃希望。<strong>仰望历史的天空，家国之志熠熠生辉，跨越时代的长河，承前启后映照山河。</strong>   青春的力量势如破竹，能超越重重阻碍蓬勃生长；青春的力量赤诚勇敢，能不惧狂澜直面挑战；青春的力量热血激昂，能激荡风云勇立潮头。“苟利国家生死以，岂因祸福避趋之”。兴国梦、强国梦需要每一位青年勇担使命，继往开来，将家国情怀融入个人成长。<br>  14 年沧桑巨变，凝浩气泱泱中华。复兴大任勇担肩上，微茫的力量聚起钢铁臂膀，纵死犹闻侠骨香，跨越历史、跨越时代，不变的是踔厉奋进的精神与不屈的脊梁，<strong>以千万青春之我，成华夏复兴伟业，双奥之城矗华夏，承前启后续新章！</strong></p><p>39 分钟，1010 字<br>没有查任何资料，纯键盘手打</p><hr><h2 id="吾辈铁肩担道义"><a href="#吾辈铁肩担道义" class="headerlink" title="吾辈铁肩担道义"></a>吾辈铁肩担道义</h2><p>2022-07-21 21:27:54</p><p>  奉献是灵魂的升华，责任是生命的坐标</p><p>  并非每个人都需选择奉献，但每个人都需要承担责任</p><p>  付出与回报，从来都形影不离；责任与权利，从来都是相伴相生</p><p>  每个人都不是一座孤岛，一个人必须是这世界上最坚固的岛屿，然后才能成为大陆的一部分。</p><p>  四川凉山的灭火英雄，食不暇饱就打起十二分精神赶赴火场；列车员妈妈刘钟出勤的日子里只能与儿子见面三分钟，但愿以微薄之力保障列车的正常运行。 做好本职工作，就是责任最朴实的体现，微薄之举也彰显重任之肩。</p><blockquote><p>白眼观天下，丹心报国家。</p></blockquote><p>  中国氢弹之父于敏亲见同胞饱受苦难，亲临民族危机四伏，苦心孤诣，潜心探索，一颗氢弹壮民族之风，震古烁今；守岛卫士王继才默默守护三十余年，受尽严寒酷暑，颂尽一生家国之诗。 千万奉献者的点滴责任，铸就繁荣富强的时代。</p><blockquote><p>言战者多，被甲者少。</p></blockquote><p>  担任责任不是一句铿锵的口号，也不是唾手可得触手可及的易事。是克服常人难以抵挡的诱惑，是开始行动知行合一的品格。 脚踏实地，兢兢业业，绝知此事要躬行。</p><h3 id="吾辈铁肩担道义-勉毡而行挺脊梁"><a href="#吾辈铁肩担道义-勉毡而行挺脊梁" class="headerlink" title="吾辈铁肩担道义 勉毡而行挺脊梁"></a>吾辈铁肩担道义 勉毡而行挺脊梁</h3><p>  我们自古以来就有埋头苦干的人、有拼命硬干的人、有为国请命的人、有舍身求法的人，他们是中国的脊梁。</p><p>  <strong>职责所在，逆行前线，虽千万人吾往矣。</strong>   是奋勇当先的人民子弟兵扛起沙袋逆流而上，扛起了危难中的希望与力量；是大爱无疆的白衣天使签下军令状为国请战，用生命点燃无私奉献与担当；是街头巷尾的热心摊主，素昧平生却以无私含善良，用温暖善举送去安心与关照。<br>  <strong>责任担肩，临危受命，危难之间尽显使命与担当。</strong>   是年过七十冲在前线的钟南山院士，是排雷英雄杜富国“我先来”的使命铿锵，是守边战士托举蓝天为百姓带来幸福安康的默默撑起的臂膀。</p><p>  <strong>哪有什么岁月安好，都是有这样一群人在默默承担。</strong></p><p>  <strong>搏击风浪，大爱无疆，以使命铸栋梁，以责任成华夏。<br>  殷忧启圣，国难兴邦，没有风浪能够击败，没有困难可以压垮，勇担责任的中国脊梁，以无畏勇气，以众志成城，吾辈铁肩担道义，勉毡而行挺脊梁！</strong></p><hr><h2 id="涅槃不负凌云志"><a href="#涅槃不负凌云志" class="headerlink" title="涅槃不负凌云志"></a>涅槃不负凌云志</h2><p>2022-07-30 21:29:42</p><blockquote><p>无论作用大小，每一个人的使命都值得尊敬；无论地位高低，每一个人的忠诚都价值连城。</p></blockquote><p>  大多数人是平凡的，却不意味着平庸。<br>  或许没有出生入死、万众瞩目的风光，却秉烛前行照亮夜空。</p><blockquote><p>习总书记指出：“把每一项平凡工作做好，就是不平凡。”</p></blockquote><p>  时代是汹涌的江河，撞击中激荡支流与逆流。但是小人物从来不是大时代的被动接受着，每一个人的参与和行动，汇成大时代的洪流。<br>  在时代的河流里，有人挺起，亦有人沉潜，有人逐流，也有人破浪。裹挟与汹涌的浪花，化为激流。</p><blockquote><p>创造新陆地的，不是那滚滚的波浪，却是它底下细小的泥沙</p></blockquote><p>  浊骨凡胎或许没有什么高远的抱负，可你去看，万家灯火的背后是日日夜夜的排查检修，国泰民安的背后是矗立边疆的职守，便捷交通的背后是早出晚归的担当。这些平凡岗位上的恪尽职守，没有璀璨夺目，却也撑起一片光亮，照亮温暖。</p><hr><h3 id="涅槃不负凌云志，平凡璀璨映山河"><a href="#涅槃不负凌云志，平凡璀璨映山河" class="headerlink" title="涅槃不负凌云志，平凡璀璨映山河"></a>涅槃不负凌云志，平凡璀璨映山河</h3><blockquote><p>江山代有才人出，各领风骚数百年</p></blockquote><p>  仰望历史的天空，家国之志熠熠生辉，跨越时代的长河，平凡灯火映照山河，且看“救亡图存，挽狂澜于既倒，思想启蒙，发历史之先声”。肩负时代使命，饱含爱国热情，惟其艰险，才更显勇毅，惟其笃行，才弥足珍贵。<br>  “我生来就是高山而非溪流”，穷其一生只做一件事，微茫的力量聚起钢铁臂膀纵死犹闻侠骨香，中华的铮铮铁骨之魂，如斑斓的繁花绽放于中华大地，馥郁芬芳。</p><blockquote><p>十年如一日，一生赴雄志</p></blockquote><p>  <strong>江山不负英雄泪，吾辈少年，生于华夏，自当博学笃志，潜心钻研，以青春与智慧浇灌这生于斯，长于斯的沃土，愿我们将碧血化为剑气，护得华夏海晏河清！</strong></p><hr><h2 id="一腔热忱铸华夏伟业-千年赓续与日月同光"><a href="#一腔热忱铸华夏伟业-千年赓续与日月同光" class="headerlink" title="一腔热忱铸华夏伟业 千年赓续与日月同光"></a>一腔热忱铸华夏伟业 千年赓续与日月同光</h2><p>2022-09-02 23:49:37</p><blockquote><p>  寄意寒星荃不察，我以我血荐轩辕。</p></blockquote><p>  无论是平凡的爱岗敬业，还是英雄的死而后已，殷殷之情俱系于华夏沃土，寸寸丹心皆忠于国家使命。</p><p>  人民之于一个国，既是绵延千年的坚实根基，亦是繁荣昌盛的动力源泉。祖国之于一个人，既是获取生存发展的物质环境，亦是寻求心灵归宿的精神家园。<br>  爱国不是一种社会强加的规训，而是源自灵魂深处的本能。</p><h3 id="一切江河依然是滚滚向东，民族的意志永远向前"><a href="#一切江河依然是滚滚向东，民族的意志永远向前" class="headerlink" title="一切江河依然是滚滚向东，民族的意志永远向前"></a>一切江河依然是滚滚向东，民族的意志永远向前</h3><p>  看千百年漫漫长路留下岁月痕迹，观数千载风起云涌生生不息；当国家危难，生灵涂炭，铭刻血与泪的印记；当青年觉醒，觅见光明，铸就泱泱华夏崛起的奇迹。“一切江河依然是滚滚向东，民族的意志永远向前”，<strong>风霜雨雪中我自岿然不动，艰难险阻自将披荆斩棘，汇万千微薄之力，愤然砥砺前行！</strong></p><h3 id="苟利国家生死以，岂因祸福避趋之"><a href="#苟利国家生死以，岂因祸福避趋之" class="headerlink" title="苟利国家生死以，岂因祸福避趋之"></a>苟利国家生死以，岂因祸福避趋之</h3><p>  爱国的热忱，是写进骨子里的壮阔豪情，是陆放翁“铁马冰河入梦来”的英姿飒爽，是范文正锐意改革心忧天下的济世情怀，是谭嗣同“去留肝胆两昆仑”的坚毅骨气。“苟利国家生死以，岂因祸福避趋之”，<strong>正是发自于肺腑的爱国精神，才有了无数中华儿女以血肉之躯赴刀山火海，撒滚烫鲜血铸华夏之魂！</strong></p><blockquote><p>  大风泱泱，大潮滂滂。洪水图腾蛟龙，烈火涅盘凤凰。文明圣火，千古未绝者，唯我无双；和天地并存，与日月同光。</p></blockquote><p>  一百年来，中华儿女披荆斩棘，一路雨雪风霜，也一路闪烁辉煌，是艰苦奋斗，独立自强，<strong>百年之后，星星之火已燎尽荒草野地，蓦然前方已是漫天霞光！</strong></p><hr><h2 id="书生意气-奋然前行-——-纪念抗战胜利77周年"><a href="#书生意气-奋然前行-——-纪念抗战胜利77周年" class="headerlink" title="书生意气 奋然前行 —— 纪念抗战胜利77周年"></a>书生意气 奋然前行 —— 纪念抗战胜利77周年</h2><p>2022-09-03 23:04:27</p><blockquote><p>  四万万人齐蹈厉，同心同德一戎衣。</p></blockquote><p>  十四年浴血奋战，用血肉之躯在祖国山河上镌刻不灭的痕迹，坚韧的华夏儿女终以  团结与勇毅击退外敌，用十几载春秋与无数生命筑成不屈的信念，让祖国的光辉永远烁熠。</p><p>  回顾这段历史，是残忍的暴行震颤人心，同胞的血泪历历在目，更是一腔热血守我山河的无畏担当，“天下兴亡匹夫有责”的情怀仍荡气回肠，“当家作主打倒侵略者”的信念仍慷慨激昂。</p><blockquote><p>  卢沟桥上弹痕犹在，卢沟晓月依旧动人，它见证一个民族跌宕起伏的昨天，也预示一个国家天高海阔的明天。</p></blockquote><p>  革命先烈以铮铮铁骨战强敌、以血肉之躯筑长城、以前仆后继赴国难，用生命和鲜血谱写了中华民族历史上抵御外侮的伟大篇章，孕育出伟大抗战精神。</p><p>  新时代青年以慷慨之气立志向、以砥砺前行迎挑战、以朝乾夕惕争自强，用奋斗和拼搏谱写了成长与发展的动人诗篇，孕育出继往开来的时代精神。</p><blockquote><p>  对历史最好的纪念，就是创造新的历史；对革命先烈最好的致敬，就是赓续他们的精神。</p></blockquote><p><strong>暗夜里总有闪耀的红星，为我们铺开一片光明，<br>战火弥漫，硝烟四起，即便流言蜚语，红军人忠贞不渝。<br>少年书生意气，看那红瓦长亭，夏风的柔情，长空的阔银，目光所及之处，皆是光明。<br>看今朝锦绣中华，忆往昔峥嵘岁月，骄傲不已。<br>携一份书卷气，带上赤诚信仰，不负期望，奋然前行！</strong></p><hr><h2 id="常怀敬畏之心-方可行稳致远"><a href="#常怀敬畏之心-方可行稳致远" class="headerlink" title="常怀敬畏之心 方可行稳致远"></a>常怀敬畏之心 方可行稳致远</h2><p>2022-09-04 23:20:58</p><blockquote><p>  惧则思，思则通微；惧则慎，慎则不败。</p></blockquote><p>  心怀敬畏，才有规则前提下真善美的追求，是将理想信念作为人生支柱，是将美丽崇高视作此生向往。当心有敬畏，多一份冷静理智，多一份从容平和，方可行稳致远，丈量人生。</p><p>  敬畏自然，让郁葱的生机浸透尘荒。三代人，五十年，昔日飞马不栖、黄沙遮天的荒原，已是树木林立、郁乎苍苍的人工林海。八步沙林场“六老叉”扎根荒漠，以血汗浇灌绿色与生命的希望；“自然之友”梁从试穷尽晚年之力，为民间环保事业立下功劳。当我们敬畏自然，便不会一味攫取，而是置身自然休戚相关，<strong>风儿拂面潋滟了繁花正好，春雨淅沥滋养了万物生机，而自将与自然化为一体，静静驻足观赏那花开花落，云卷云舒。</strong></p><p>  敬畏道德，克己之言行不以物惑。从公交车坠江、校园欺凌无人有勇气制止，到“高铁霸座”未曾有人指责。可何人曾拨开冷漠，敬畏道德？物欲横流，乱花渐欲，总有人倾囊相助，是收留无家可归的孩子，是指责身边细小的恶习，是为外卖小哥提供休息的热心摊主，是为善事不留名的众多英雄。心怀敬畏，<strong>只愿每个人都被温柔以待，当温暖代替冷漠，当真诚胜过猜忌，才有大爱传递不息。</strong></p><p>  敬畏人生，秉虚怀若谷又如履薄冰。因有敬畏，在攻下南京，手握重兵，才能不为所动，“倚天照海花无数，流水高山心自知”因有敬畏，纵使身居高位也能明晰心中经纬，才能时刻提醒目己，不可得意忘形，贪得无厌；<strong>是涤荡自己的的人生，才有从前种种譬如咋日死，以后种种譬如今日生的境界。</strong></p><p>  敬畏，是对规律的尊重，对自我的约束，对理性的崇尚，对自由的追求。当心怀敬畏，更有内心赤诚，方可行稳致远，驰而不息。</p><hr><h2 id="繁花尽绽青春热烈-莫染恶习茁壮康健"><a href="#繁花尽绽青春热烈-莫染恶习茁壮康健" class="headerlink" title="繁花尽绽青春热烈 莫染恶习茁壮康健"></a>繁花尽绽青春热烈 莫染恶习茁壮康健</h2><p>2022-09-05 23:40:18</p><blockquote><p>  戒毒和缉毒一样，都是至死方休的战争。</p></blockquote><p>  1840年，鸦片侵染着每一寸祖国的净土。犹如黑白胶片中面容可怖的长辫男子，手捧鸦片，如视珍宝，吞云吐雾，赛如神仙。“双眼突出如鬼视，骨瘦如柴病魔缠”，空洞呆滞的目光里浸不出对未来的希望，病偻羸弱的身躯支撑不住生命的重量，黯然无光的面庞仿佛蒙上阴翳尘灰。欢声笑语已不再，已作痛苦呻吟；俊美容颜已不再，已化枯黄瘦骨。</p><p>  人民的灵魂在呐喊着，却只剩下行尸走肉般的躯体，意志在挣扎，身心却早被噩灵所摧残，，将自己的灵魂出卖给魔鬼，用自己原有的善良与纯真，从魔鬼那换取一包包的白色粉末。</p><p>  有志之士的觉醒，民族麻木的苦难，引爆的是反抗侵略的决心和勇气。虎门销烟，是中国禁烟斗争的重大胜利，是对西方殖民者的沉重打击，洗刷了鸦片贸易给中国带来的耻辱，向全世界表明了中国人民反抗外国侵略的坚定意志和维护民族尊严的凛然正气。</p><p>  戒毒所中，戒毒者的痛苦与后悔俯拾皆是，每举鲜活的例子也令人扼腕叹息。倘若青春芳华之中侵入了毒品，毒瘾缠上了少年，青春就会成为令人惊悚的梦魇。</p><p>  繁花尽绽青春热烈，莫染恶习茁壮康健，身在青春年少，定有好奇与憧憬，可与青春同等重要的，承载着你的亲人，朋友和整个社会赋予你的责任，让世界因无毒而绚丽，让未来因无毒而辉煌。</p><hr><h2 id="（积累）觉醒便是振奋之时-少年定与平庸相斥"><a href="#（积累）觉醒便是振奋之时-少年定与平庸相斥" class="headerlink" title="（积累）觉醒便是振奋之时  少年定与平庸相斥"></a>（积累）觉醒便是振奋之时  少年定与平庸相斥</h2><p>2022-09-06 23:38:25</p><blockquote><p>1、无论天空如何阴霾，太阳一直都在，不在这里，就在那里。–丁立梅</p></blockquote><blockquote><p>2、所有的改变都是一种深思熟虑过后的奇迹。 每瞬间奇迹都在发生。–梭罗《瓦尔登湖》</p></blockquote><blockquote><p>3、熬过此关，便可少进， 再进再困再熬再奋自有亨通精进之。–《曾国藩家训》</p></blockquote><blockquote><p>4、有一天回首往事的时候你会觉得， 那些奋斗的岁月是你一生的精华。–弗洛伊德</p></blockquote><blockquote><p>5、所谓自由，不是随心所欲，而是自我主宰。–康德</p></blockquote><blockquote><p>6、风可以吹起一张大白纸，却无法吹走一只蝴蝶， 因为生命的力量在于不顺从。–冯骥才</p></blockquote><blockquote><p>7、该忘记的早就忘记，该留下的永远留下。答应我，忍住你的痛苦， 不发一言，穿过这整座城市。–海子《太阳和野花》</p></blockquote><blockquote><p>8、我希望自己也是一颗星星，如果我会发光，就不必害怕黑暗。 如果我自己是那么美好， 那么一切恐惧就可以烟消云散。–王小波《我在荒岛上迎接黎明》</p></blockquote><blockquote><p>9、你必须只有内心丰富.才能打说主地生活表面的相似。–王朔《致女儿书》</p></blockquote><blockquote><p>10、每个人在悲伤的时候，会突然消失一阵子，到底发生了什么？让我告诉你。在那段时间降临一场暴雨，天上所有的云都自杀身亡，从此晴空万里。耐心点，你会做到的。——张嘉佳</p></blockquote><blockquote><p>11、我的梦想，值得我本人去争取，我今后的人生绝不是我昨天生活的冷淡抄袭。——司汤达</p></blockquote><blockquote><p>12 、人生值得欣慰之处便是，每一天都有结束的时候。今天也不例外。–卡洛琳·帕克斯特</p></blockquote><blockquote><p>13、不能听命于自己者，就要受命于他人。–尼采</p></blockquote><blockquote><p>14 、人生很简单，只要认真过好了每个瞬间，就没有什么必要令其过于深刻。–《被讨厌的勇气》</p></blockquote><blockquote><p>15、身如逆流船，心比铁石坚。——李时珍</p></blockquote><blockquote><p>16、每个人是他自己的造化主，环境不足畏，犹如命运不足信。——朱光潜</p></blockquote><blockquote><p>17、吾心信其可行，则移山填海之难，终有成功之日。——孙中山</p></blockquote><blockquote><p>18、天下没有白费的努力，成功不必在我，功夫必不唐捐。——胡适</p></blockquote><blockquote><p>19、发光并非太阳的专利，每个人都可以。</p></blockquote><blockquote><p>20、不辜负时间的馈赠，努力活成自己喜欢的生活。</p></blockquote><blockquote><p>21、同为寒窗苦读，怎会甘拜下风。</p></blockquote><blockquote><p>22、要学一个人抵御千军万马。</p></blockquote><blockquote><p>23、穿过星星，穿过月亮，试着遇见一个更好的自己。</p></blockquote><hr><h2 id="涵养媒体素质-共建和谐网络"><a href="#涵养媒体素质-共建和谐网络" class="headerlink" title="涵养媒体素质 共建和谐网络"></a>涵养媒体素质 共建和谐网络</h2><p>2022-10-11 00:23:37</p><p>尊敬的老师，亲爱的同学们：<br>  大家好！我今日发言的主题是《涵养媒体素质 共建和谐网络》。<br>  近日，各大媒体平台都已开启IP归属地显示功能，这意味着网络发言正式公开透明、接受监管，对此我认为，IP归属地的公开有利于打击网络暴力、破除谣言传播。清江东往，画舸西流，随着网络飞云掣电的发展，躬逢信息时代，你我高中生应不断提升媒介素质，成为有独立思考能力和社会责任的优秀网民。<br>  涵养素质，是恪守规则有所不为的义务。与信息数量越来越不成正比的是，我们距离事实的真相越来越远，更有人总结称我们正在进入一个十分危险的舆论生态：后真相时代。漫游在互联网中，你也许见到网络暴力者小人得志欺软怕硬的丑恶嘴脸，恶意扭曲事实带偏节奏的无数团体，散布虚假信息谋取利益的祸患来源……在这个看似对于言论无需负责的时代，侮辱诋毁谩骂的话语随处可见，背后是无数无辜受害者，更有人因此结束了生命。网络从来不是法外之地，涵养媒介素养，就是要清楚明白有所为有所不为，就是履行作为网民最基本的义务，种种事件时刻警醒我们，提高媒介素养刻不容缓，你我更要以此约束自己，做一位合格网民。<br>  涵养素质，是拒绝盲从理性思考的能力。老子曰；“天下难事，必作于易，天下大事，必作于细。”想要利用媒介平台，必先学会从中获取信息。当今的网络时代，多少人失去主见，恰似一具具躯壳，以他人为方向蜂拥而上。面对纷繁复杂的新闻，或许也有人与我一样，忧虑于垃圾信息和虚假信息的侵害。然而糟粕绝非信息资源的主流，为了阻挡垃圾信息侵害而将信息资源全部“拒之门外”更是不明智的。当信息茧房阻碍获取知识的脚步，流量至上一次次刷新道德底线，电信诈骗和网络谣言接踵而至，我们必须清楚地认识到“拒绝接收”并不能阻挡不良信息的荼毒蔓延，拒绝盲从、理性思考的媒介素养才是抵御其害的“防火墙”。我们不必转发先行，更不必奉为圭臬，保持理性判断，有时做梁启超先生笔下的旁观者也不失为一种好选择。<br>  涵养素质，是传递时代绮丽强音的责任。“过去传播是媒体人的事，现在传播是每个人的事，新媒体时代，人人都要学会传播。”君可见，李子柒用一幕幕记录深厚文化留存的印记，让世界认识中国；君可见，董宇辉让带货与文化绽放新的璀璨，令人耳目一新；君可见。直播考古三星堆发掘现场，在全社会掀起了“文物热”。利用媒介平台，传统文化也能乘上时代的快车，迸发时代的强音。对于你我也可通过媒介平台阐述个人观点、传播独特文化、让底蕴在文墨中流淌，发出属于自己的时代之音。<br>  时代裹挟着信息的激流奔涌向前，每一朵翻滚的浪头都催生一直信息的小舟，放眼是千帆竞发、百舸争流。新时代信息资源泥沙俱下，恪守义务、理性思考，是你我在新时代的必要品质。吾辈青年更要利用网络时代的万千瑰丽，与时代同呼吸、与文化共绽放，为传统赋予崭新表达！<br>  我的演讲结束，谢谢大家！</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;这里归档了一些我高中时候写的作文，既是黑历史，也是一段之前的记忆吧&lt;/p&gt;
&lt;p&gt;大多数都是格式文章，千篇一律的套路啦&lt;/p&gt;</summary>
    
    
    
    <category term="妙笔生花" scheme="https://blog.grtsinry43.com/categories/%E5%A6%99%E7%AC%94%E7%94%9F%E8%8A%B1/"/>
    
    
    <category term="作文" scheme="https://blog.grtsinry43.com/tags/%E4%BD%9C%E6%96%87/"/>
    
    <category term="高考" scheme="https://blog.grtsinry43.com/tags/%E9%AB%98%E8%80%83/"/>
    
    <category term="整理" scheme="https://blog.grtsinry43.com/tags/%E6%95%B4%E7%90%86/"/>
    
    <category term="青春" scheme="https://blog.grtsinry43.com/tags/%E9%9D%92%E6%98%A5/"/>
    
    <category term="梦想" scheme="https://blog.grtsinry43.com/tags/%E6%A2%A6%E6%83%B3/"/>
    
  </entry>
  
</feed>
